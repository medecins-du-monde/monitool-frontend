(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{"1p7F":function(t,e,c){"use strict";c.r(e),c.d(e,"LogicalFramesModule",(function(){return et}));var i=c("ofXK"),o=c("bTqV"),n=c("NFeN"),r=c("sYmb"),a=c("3Pt+"),s=c("A5z7"),b=c("FKr1"),d=c("iadO"),l=c("7EHt"),m=c("kmnG"),p=c("qFsG"),u=c("d3UM"),f=c("YjUb"),g=c("0IaG"),h=c("+0xr"),S=c("fXoL");let v=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[i.c,r.b,a.m,a.w,o.b,n.b,h.p,m.d,u.b,g.f,p.c,s.d,d.c,b.k]]}),t})(),T=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[i.c,r.b,a.m,a.w,p.c,o.b,n.b,m.d,v,f.a]]}),t})(),F=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[i.c,r.b,a.m,a.w,p.c,o.b,n.b,m.d,l.b,T,v,f.a]]}),t})(),D=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[i.c,r.b,a.m,a.w,p.c,o.b,n.b,m.d,l.b,F,v,f.a]]}),t})(),B=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[i.c,r.b,a.m,a.w,p.c,n.b,u.b,s.d,m.d,d.c,b.k,o.b,l.b,D,v,f.a]]}),t})();var k=c("Wp6s"),I=c("STbY"),O=c("tyNb");let w=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[i.c,r.b,k.g,o.b,I.b,O.f,n.b]]}),t})();var y=c("y3MZ"),E=c("c3AT"),A=c("AytR");function x(t,e){if(1&t&&(S.Tb(0,"div"),S.Dc(1),S.Sb()),2&t){const t=e.$implicit;S.Bb(1),S.Ec(t.name)}}let N=(()=>{class t{constructor(t){this.translateService=t,this.clone=new S.o,this.edit=new S.o,this.delete=new S.o}get currentLang(){return this.translateService.currentLang?this.translateService.currentLang:this.translateService.defaultLang}get landscapePdfUrl(){return`${A.a.API_URL}/resources/project/${this.project.id}/logical-frame/${this.logicalFrame.id}.pdf?orientation=landscape&language=${this.currentLang}`}get portraitPdfUrl(){return`${A.a.API_URL}/resources/project/${this.project.id}/logical-frame/${this.logicalFrame.id}.pdf?orientation=portrait&language=${this.currentLang}`}ngOnInit(){}onClone(){this.clone.emit(this.logicalFrame)}onEdit(){this.edit.emit(this.logicalFrame)}onDelete(){this.delete.emit(this.logicalFrame)}}return t.\u0275fac=function(e){return new(e||t)(S.Nb(r.d))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-logical-frame"]],inputs:{logicalFrame:"logicalFrame",project:"project"},outputs:{clone:"clone",edit:"edit",delete:"delete"},decls:53,vars:40,consts:[[1,"card-header"],[1,"card-info"],[1,"card-info-title"],[1,"card-info-value"],[4,"ngFor","ngForOf"],["align","end",1,"mdm-button-group"],["mat-stroked-button","",1,"mdm-button",3,"click"],["mat-stroked-button","","mat-icon-button","",1,"mdm-button",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","target","_blank",3,"href"]],template:function(t,e){if(1&t&&(S.Tb(0,"mat-card"),S.Tb(1,"mat-card-header",0),S.Dc(2),S.Sb(),S.Tb(3,"mat-card-content"),S.Tb(4,"div",1),S.Tb(5,"div",2),S.Dc(6),S.fc(7,"translate"),S.Sb(),S.Tb(8,"div",3),S.Dc(9),S.fc(10,"date"),S.fc(11,"date"),S.Sb(),S.Sb(),S.Tb(12,"div",1),S.Tb(13,"div",2),S.Dc(14),S.fc(15,"translate"),S.Sb(),S.Tb(16,"div",3),S.Bc(17,x,2,1,"div",4),S.Sb(),S.Sb(),S.Sb(),S.Tb(18,"mat-card-actions",5),S.Tb(19,"button",6),S.ac("click",(function(){return e.onEdit()})),S.Dc(20),S.fc(21,"translate"),S.Sb(),S.Tb(22,"button",7),S.Tb(23,"mat-icon"),S.Dc(24,"expand_more"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(25,"mat-menu",null,8),S.Tb(27,"button",9),S.ac("click",(function(){return e.onClone()})),S.Tb(28,"mat-icon"),S.Dc(29,"content_copy"),S.Sb(),S.Tb(30,"span"),S.Dc(31),S.fc(32,"translate"),S.Sb(),S.Sb(),S.Tb(33,"a",10),S.Tb(34,"mat-icon"),S.Dc(35,"insert_drive_file"),S.Sb(),S.Tb(36,"span"),S.Dc(37),S.fc(38,"translate"),S.fc(39,"translate"),S.Sb(),S.Sb(),S.Tb(40,"a",10),S.Tb(41,"mat-icon"),S.Dc(42,"note"),S.Sb(),S.Tb(43,"span"),S.Dc(44),S.fc(45,"translate"),S.fc(46,"translate"),S.Sb(),S.Sb(),S.Tb(47,"button",9),S.ac("click",(function(){return e.onDelete()})),S.Tb(48,"mat-icon"),S.Dc(49,"delete"),S.Sb(),S.Tb(50,"span"),S.Dc(51),S.fc(52,"translate"),S.Sb(),S.Sb(),S.Sb()),2&t){const t=S.qc(26);S.Bb(2),S.Ec(e.logicalFrame.name),S.Bb(4),S.Ec(S.gc(7,16,"Date")),S.Bb(3),S.Gc(" ",e.logicalFrame.start?e.logicalFrame.start:S.hc(10,18,e.project.start,"mediumDate")," - ",e.logicalFrame.end?e.logicalFrame.end:S.hc(11,21,e.project.end,"mediumDate"),""),S.Bb(5),S.Ec(S.gc(15,24,"CollectionSites")),S.Bb(3),S.kc("ngForOf",e.logicalFrame.entities),S.Bb(3),S.Ec(S.gc(21,26,"Edit")),S.Bb(2),S.kc("matMenuTriggerFor",t),S.Bb(9),S.Ec(S.gc(32,28,"Clone")),S.Bb(2),S.kc("href",e.portraitPdfUrl,S.uc),S.Bb(4),S.Gc("",S.gc(38,30,"Download")," PDF ( ",S.gc(39,32,"Portrait")," )"),S.Bb(3),S.kc("href",e.landscapePdfUrl,S.uc),S.Bb(4),S.Gc("",S.gc(45,34,"Download")," PDF ( ",S.gc(46,36,"Landscape")," )"),S.Bb(7),S.Ec(S.gc(52,38,"Delete"))}},directives:[k.a,k.e,k.d,i.k,k.b,o.a,I.c,n.a,I.d,I.a],pipes:[r.c,i.e],styles:[""]}),t})();var j=c("LvDl"),C=c("QlGT"),P=c("hPXr"),L=c("XEzf");function G(t,e){if(1&t){const t=S.Ub();S.Rb(0,10),S.Tb(1,"app-extra-indicator",11),S.ac("edit",(function(){S.sc(t);const c=e.$implicit,i=e.index;return S.ec().onEditIndicator(c,i)}))("delete",(function(){S.sc(t);const c=e.index;return S.ec().onDeleteIndicator(c)})),S.Sb(),S.Qb()}if(2&t){const t=e.$implicit;S.Bb(1),S.kc("extraIndicator",t.value)}}let R=(()=>{class t{constructor(t){this.dialog=t}get indicators(){return this.activityForm.controls.indicators}ngOnInit(){}onAddNewIndicator(){const t=P.a.newIndicator();this.openDialog(t,!0)}onEditIndicator(t,e){this.openDialog(P.a.newIndicator(t.value),!1,e)}onDeleteIndicator(t){this.indicators.removeAt(t)}openDialog(t,e,c){this.dialog.open(C.a,{data:{indicator:t,forms:this.forms}}).afterClosed().subscribe(t=>{t&&(e?this.indicators.push(t.indicator):null!==c&&this.indicators.setControl(c,t.indicator))})}}return t.\u0275fac=function(e){return new(e||t)(S.Nb(g.b))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-activity-edit"]],inputs:{activityForm:"activityForm",forms:"forms"},decls:20,vars:14,consts:[[3,"formGroup"],[1,"mdm-form-group"],[1,"mdm-form-label"],["appearance","outline",1,"mdm-form-field"],["matInput","","formControlName","description",3,"placeholder"],[1,"mdm-section"],["formArrayName","indicators",1,"indicators-list"],[1,"mdm-cards"],["class","mdm-card",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mdm-button",3,"click"],[1,"mdm-card"],[1,"mdm-card",3,"extraIndicator","edit","delete"]],template:function(t,e){1&t&&(S.Tb(0,"div",0),S.Tb(1,"div",1),S.Tb(2,"div",2),S.Dc(3),S.fc(4,"translate"),S.Sb(),S.Tb(5,"mat-form-field",3),S.Ob(6,"input",4),S.fc(7,"translate"),S.Sb(),S.Sb(),S.Tb(8,"div",5),S.Tb(9,"div",2),S.Dc(10),S.fc(11,"translate"),S.Sb(),S.Tb(12,"div",6),S.Tb(13,"div",7),S.Bc(14,G,2,1,"ng-container",8),S.Sb(),S.Tb(15,"button",9),S.ac("click",(function(){return e.onAddNewIndicator()})),S.Tb(16,"mat-icon"),S.Dc(17,"add"),S.Sb(),S.Dc(18),S.fc(19,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Sb()),2&t&&(S.kc("formGroup",e.activityForm),S.Bb(3),S.Ec(S.gc(4,6,"Activity")),S.Bb(3),S.lc("placeholder",S.gc(7,8,"Activity")),S.Bb(4),S.Ec(S.gc(11,10,"Indicators")),S.Bb(4),S.kc("ngForOf",e.indicators.controls),S.Bb(4),S.Ec(S.gc(19,12,"AddIndicator")))},directives:[a.s,a.k,m.b,p.b,a.c,a.r,a.i,a.e,i.k,o.a,n.a,L.a],pipes:[r.c],styles:[""]}),t})();function $(t,e){if(1&t){const t=S.Ub();S.Rb(0,13),S.Tb(1,"app-extra-indicator",14),S.ac("edit",(function(){S.sc(t);const c=e.$implicit,i=e.index;return S.ec().onEditIndicator(c,i)}))("delete",(function(){S.sc(t);const c=e.index;return S.ec().onDeleteIndicator(c)})),S.Sb(),S.Qb()}if(2&t){const t=e.$implicit;S.Bb(1),S.kc("extraIndicator",t.value)}}function U(t,e){if(1&t){const t=S.Ub();S.Rb(0),S.Tb(1,"mat-expansion-panel",15),S.Tb(2,"mat-expansion-panel-header"),S.Tb(3,"mat-panel-title"),S.Dc(4),S.Sb(),S.Tb(5,"mat-panel-description"),S.Tb(6,"button",10),S.ac("click",(function(){S.sc(t);const c=e.index;return S.ec().onRemoveActivity(c)})),S.Tb(7,"mat-icon"),S.Dc(8,"delete"),S.Sb(),S.Dc(9),S.fc(10,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Ob(11,"app-activity-edit",16),S.Sb(),S.Qb()}if(2&t){const t=e.$implicit,c=e.index,i=S.ec();S.Bb(1),S.kc("formGroupName",c),S.Bb(3),S.Gc("Activity ",c+1,": ",t.value.description,""),S.Bb(5),S.Ec(S.gc(10,6,"RemoveActivity")),S.Bb(2),S.kc("activityForm",t)("forms",i.forms)}}let _=(()=>{class t{constructor(t,e){this.dialog=t,this.fb=e}get activities(){return this.outputForm.controls.activities}get indicators(){return this.outputForm.controls.indicators}ngOnInit(){}onAddNewActivity(){this.activities.push(P.a.newActivity())}onRemoveActivity(t){this.activities.removeAt(t)}onAddNewIndicator(){const t=P.a.newIndicator();this.openDialog(t,!0)}onEditIndicator(t,e){this.openDialog(P.a.newIndicator(t.value),!1,e)}onDeleteIndicator(t){this.indicators.removeAt(t)}openDialog(t,e,c){this.dialog.open(C.a,{data:{indicator:t,forms:this.forms}}).afterClosed().subscribe(t=>{t&&(e?this.indicators.push(t.indicator):null!==c&&this.indicators.setControl(c,t.indicator))})}}return t.\u0275fac=function(e){return new(e||t)(S.Nb(g.b),S.Nb(a.f))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-output-edit"]],inputs:{outputForm:"outputForm",forms:"forms"},decls:34,vars:24,consts:[[3,"formGroup"],[1,"mdm-form-group"],[1,"mdm-form-label"],["appearance","outline",1,"mdm-form-field"],["matInput","","formControlName","description",3,"placeholder"],["matInput","","formControlName","assumptions",3,"placeholder"],[1,"mdm-section"],["formArrayName","indicators",1,"indicators-list"],[1,"mdm-cards"],["class","mdm-card",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mdm-button",3,"click"],["formArrayName","activities"],[4,"ngFor","ngForOf"],[1,"mdm-card"],[1,"mdm-card",3,"extraIndicator","edit","delete"],[3,"formGroupName"],[3,"activityForm","forms"]],template:function(t,e){1&t&&(S.Tb(0,"div",0),S.Tb(1,"div",1),S.Tb(2,"div",2),S.Dc(3),S.fc(4,"translate"),S.Sb(),S.Tb(5,"mat-form-field",3),S.Ob(6,"input",4),S.fc(7,"translate"),S.Sb(),S.Sb(),S.Tb(8,"div",1),S.Tb(9,"div",2),S.Dc(10),S.fc(11,"translate"),S.Sb(),S.Tb(12,"mat-form-field",3),S.Ob(13,"input",5),S.fc(14,"translate"),S.Sb(),S.Sb(),S.Tb(15,"div",6),S.Tb(16,"div",2),S.Dc(17),S.fc(18,"translate"),S.Sb(),S.Tb(19,"div",7),S.Tb(20,"div",8),S.Bc(21,$,2,1,"ng-container",9),S.Sb(),S.Tb(22,"button",10),S.ac("click",(function(){return e.onAddNewIndicator()})),S.Tb(23,"mat-icon"),S.Dc(24,"add"),S.Sb(),S.Dc(25),S.fc(26,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Tb(27,"mat-accordion",11),S.Bc(28,U,12,8,"ng-container",12),S.Sb(),S.Tb(29,"button",10),S.ac("click",(function(){return e.onAddNewActivity()})),S.Tb(30,"mat-icon"),S.Dc(31,"add"),S.Sb(),S.Dc(32),S.fc(33,"translate"),S.Sb(),S.Sb()),2&t&&(S.kc("formGroup",e.outputForm),S.Bb(3),S.Ec(S.gc(4,10,"Result")),S.Bb(3),S.lc("placeholder",S.gc(7,12,"Description")),S.Bb(4),S.Ec(S.gc(11,14,"Assumptions")),S.Bb(3),S.lc("placeholder",S.gc(14,16,"Assumptions")),S.Bb(4),S.Ec(S.gc(18,18,"Indicators")),S.Bb(4),S.kc("ngForOf",e.indicators.controls),S.Bb(4),S.Ec(S.gc(26,20,"AddIndicator")),S.Bb(3),S.kc("ngForOf",e.activities.controls),S.Bb(4),S.Ec(S.gc(33,22,"AddActivity")))},directives:[a.s,a.k,m.b,p.b,a.c,a.r,a.i,a.e,i.k,o.a,n.a,l.a,L.a,l.c,a.l,l.e,l.f,l.d,R],pipes:[r.c],styles:[".mat-expansion-panel[_ngcontent-%COMP%]{margin:20px 0!important}"]}),t})();function M(t,e){if(1&t){const t=S.Ub();S.Rb(0,13),S.Tb(1,"app-extra-indicator",14),S.ac("edit",(function(){S.sc(t);const c=e.$implicit,i=e.index;return S.ec().onEditIndicator(c,i)}))("delete",(function(){S.sc(t);const c=e.index;return S.ec().onDeleteIndicator(c)})),S.Sb(),S.Qb()}if(2&t){const t=e.$implicit;S.Bb(1),S.kc("extraIndicator",t.value)}}function K(t,e){if(1&t){const t=S.Ub();S.Rb(0),S.Tb(1,"mat-expansion-panel",15),S.Tb(2,"mat-expansion-panel-header"),S.Tb(3,"mat-panel-title"),S.Dc(4),S.Sb(),S.Tb(5,"mat-panel-description"),S.Tb(6,"button",10),S.ac("click",(function(){S.sc(t);const c=e.index;return S.ec().onRemoveOutput(c)})),S.Tb(7,"mat-icon"),S.Dc(8,"delete"),S.Sb(),S.Dc(9),S.fc(10,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Ob(11,"app-output-edit",16),S.Sb(),S.Qb()}if(2&t){const t=e.$implicit,c=e.index,i=S.ec();S.Bb(1),S.kc("formGroupName",c),S.Bb(3),S.Gc("Result ",c+1,": ",t.value.description,""),S.Bb(5),S.Ec(S.gc(10,6,"RemoveOutput")),S.Bb(2),S.kc("outputForm",t)("forms",i.forms)}}let H=(()=>{class t{constructor(t){this.dialog=t,this.edit=new S.o}get outputs(){return this.purposeForm.controls.outputs}get indicators(){return this.purposeForm.controls.indicators}ngOnInit(){}onAddNewOutput(){this.outputs.push(P.a.newOutput())}onRemoveOutput(t){this.outputs.removeAt(t)}onAddNewIndicator(){this.openDialog(P.a.newIndicator(),!0)}onEditIndicator(t,e){this.openDialog(P.a.newIndicator(t.value),!1,e)}onDeleteIndicator(t){this.indicators.removeAt(t)}openDialog(t,e,c){this.dialog.open(C.a,{data:{indicator:t,forms:this.forms}}).afterClosed().subscribe(t=>{t&&(e?this.indicators.push(t.indicator):null!==c&&this.indicators.setControl(c,t.indicator))})}}return t.\u0275fac=function(e){return new(e||t)(S.Nb(g.b))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-purpose-edit"]],inputs:{purposeForm:"purposeForm",forms:"forms"},outputs:{edit:"edit"},decls:34,vars:24,consts:[[3,"formGroup"],[1,"mdm-form-group"],[1,"mdm-form-label"],["appearance","outline",1,"mdm-form-field"],["matInput","","formControlName","description",3,"placeholder"],["matInput","","formControlName","assumptions",3,"placeholder"],[1,"mdm-section"],["formArrayName","indicators",1,"indicators-list"],[1,"mdm-cards"],["class","mdm-card",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mdm-button",3,"click"],["formArrayName","outputs"],[4,"ngFor","ngForOf"],[1,"mdm-card"],[1,"mdm-card",3,"extraIndicator","edit","delete"],[3,"formGroupName"],[3,"outputForm","forms"]],template:function(t,e){1&t&&(S.Tb(0,"div",0),S.Tb(1,"div",1),S.Tb(2,"div",2),S.Dc(3),S.fc(4,"translate"),S.Sb(),S.Tb(5,"mat-form-field",3),S.Ob(6,"input",4),S.fc(7,"translate"),S.Sb(),S.Sb(),S.Tb(8,"div",1),S.Tb(9,"div",2),S.Dc(10),S.fc(11,"translate"),S.Sb(),S.Tb(12,"mat-form-field",3),S.Ob(13,"input",5),S.fc(14,"translate"),S.Sb(),S.Sb(),S.Tb(15,"div",6),S.Tb(16,"div",2),S.Dc(17),S.fc(18,"translate"),S.Sb(),S.Tb(19,"div",7),S.Tb(20,"div",8),S.Bc(21,M,2,1,"ng-container",9),S.Sb(),S.Tb(22,"button",10),S.ac("click",(function(){return e.onAddNewIndicator()})),S.Tb(23,"mat-icon"),S.Dc(24,"add"),S.Sb(),S.Dc(25),S.fc(26,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Tb(27,"mat-accordion",11),S.Bc(28,K,12,8,"ng-container",12),S.Sb(),S.Tb(29,"button",10),S.ac("click",(function(){return e.onAddNewOutput()})),S.Tb(30,"mat-icon"),S.Dc(31,"add"),S.Sb(),S.Dc(32),S.fc(33,"translate"),S.Sb(),S.Sb()),2&t&&(S.kc("formGroup",e.purposeForm),S.Bb(3),S.Ec(S.gc(4,10,"SpecificObjective")),S.Bb(3),S.lc("placeholder",S.gc(7,12,"Description")),S.Bb(4),S.Ec(S.gc(11,14,"Assumptions")),S.Bb(3),S.lc("placeholder",S.gc(14,16,"Assumptions")),S.Bb(4),S.Ec(S.gc(18,18,"Indicators")),S.Bb(4),S.kc("ngForOf",e.indicators.controls),S.Bb(4),S.Ec(S.gc(26,20,"AddIndicator")),S.Bb(3),S.kc("ngForOf",e.outputs.controls),S.Bb(4),S.Ec(S.gc(33,22,"AddOutput")))},directives:[a.s,a.k,m.b,p.b,a.c,a.r,a.i,a.e,i.k,o.a,n.a,l.a,L.a,l.c,a.l,l.e,l.f,l.d,_],pipes:[r.c],styles:[".mat-accordion[_ngcontent-%COMP%]{padding-top:20px}.mat-expansion-panel[_ngcontent-%COMP%]{margin:20px 0!important}"]}),t})();function Q(t,e){if(1&t){const t=S.Ub();S.Tb(0,"mat-chip",23),S.ac("removed",(function(){S.sc(t);const c=e.$implicit;return S.ec().onEntityRemoved(c)})),S.Dc(1),S.Tb(2,"mat-icon",24),S.Dc(3,"cancel"),S.Sb(),S.Sb()}if(2&t){const t=e.$implicit;S.kc("removable",!0),S.Bb(1),S.Fc(" ",t.name," ")}}function q(t,e){if(1&t&&(S.Tb(0,"mat-option",25),S.Dc(1),S.Sb()),2&t){const t=e.$implicit;S.kc("value",t),S.Bb(1),S.Fc("",t.name," ")}}function z(t,e){if(1&t){const t=S.Ub();S.Rb(0,26),S.Tb(1,"app-extra-indicator",27),S.ac("edit",(function(){S.sc(t);const c=e.$implicit,i=e.index;return S.ec().onEditIndicator(c,i)}))("delete",(function(){S.sc(t);const c=e.index;return S.ec().onDeleteIndicator(c)})),S.Sb(),S.Qb()}if(2&t){const t=e.$implicit;S.Bb(1),S.kc("extraIndicator",t.value)}}function X(t,e){if(1&t){const t=S.Ub();S.Rb(0),S.Tb(1,"mat-expansion-panel",28),S.Tb(2,"mat-expansion-panel-header"),S.Tb(3,"mat-panel-title"),S.Dc(4),S.Sb(),S.Tb(5,"mat-panel-description"),S.Tb(6,"button",19),S.ac("click",(function(){S.sc(t);const c=e.index;return S.ec().onRemovePurpose(c)})),S.Tb(7,"mat-icon"),S.Dc(8,"delete"),S.Sb(),S.Dc(9),S.fc(10,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Tb(11,"app-purpose-edit",29),S.ac("edit",(function(c){S.sc(t);const i=e.index;return S.ec().onEditPurpose(c,i)})),S.Sb(),S.Sb(),S.Qb()}if(2&t){const t=e.$implicit,c=e.index,i=S.ec();S.Bb(1),S.kc("formGroupName",c),S.Bb(3),S.Gc("Specific objective ",c+1,": ",t.value.description,""),S.Bb(5),S.Ec(S.gc(10,6,"RemovePurpose")),S.Bb(2),S.kc("purposeForm",t)("forms",i.forms)}}let Y=(()=>{class t{constructor(t,e){this.fb=t,this.dialog=e,this.edit=new S.o}get selectedEntities(){return this.logicalFrameForm.controls.entities.value}get purposes(){return this.logicalFrameForm.controls.purposes}get indicators(){return this.logicalFrameForm.controls.indicators}ngOnInit(){this.setForm()}ngOnChanges(){this.setForm()}setForm(){this.logicalFrameForm=this.fb.group({id:[this.logicalFrame.id],name:[this.logicalFrame.name,a.x.required],entities:[this.entities.filter(t=>this.logicalFrame.entities.map(t=>t.id).includes(t.id)),a.x.required],start:[this.logicalFrame.start],end:[this.logicalFrame.end],goal:[this.logicalFrame.goal],indicators:this.fb.array(this.logicalFrame.indicators.map(t=>P.a.newIndicator(t))),purposes:this.fb.array(this.logicalFrame.purposes.map(t=>P.a.newPurpose(t)))}),this.logicalFrameForm.valueChanges.subscribe(t=>{this.edit.emit(this.logicalFrame.deserialize(t))})}onEntityRemoved(t){this.logicalFrameForm.controls.entities.setValue(this.logicalFrameForm.controls.entities.value.filter(e=>e.id!==t.id))}onAddNewPurpose(){this.purposes.push(P.a.newPurpose())}onEditPurpose(t,e){this.purposes.setControl(e,j.cloneDeep(P.a.newPurpose(t)))}onRemovePurpose(t){this.purposes.removeAt(t)}onAddNewIndicator(){this.openDialog(P.a.newIndicator(),!0)}onEditIndicator(t,e){this.openDialog(P.a.newIndicator(t.value),!1,e)}onDeleteIndicator(t){this.indicators.removeAt(t)}openDialog(t,e,c){this.dialog.open(C.a,{data:{indicator:t,forms:this.forms}}).afterClosed().subscribe(t=>{t&&(e?this.indicators.push(t.indicator):null!==c&&this.indicators.setControl(c,t.indicator))})}}return t.\u0275fac=function(e){return new(e||t)(S.Nb(a.f),S.Nb(g.b))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-logical-frame-edit"]],inputs:{forms:"forms",entities:"entities",logicalFrame:"logicalFrame"},outputs:{edit:"edit"},features:[S.zb],decls:101,vars:65,consts:[[1,"mdm-section"],[1,"mdm-title"],[1,"mdm-form",3,"formGroup"],[1,"mdm-form-group"],[1,"mdm-form-label"],["appearance","outline",1,"mdm-form-field"],["matInput","","formControlName","name",3,"placeholder"],["formControlName","entities","multiple","",3,"placeholder"],[3,"removable","removed",4,"ngFor","ngForOf"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","start",3,"matDatepicker","placeholder"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","formControlName","end",3,"matDatepicker","placeholder"],["endPicker",""],["matInput","","formControlName","goal",3,"placeholder"],["formArrayName","indicators",1,"indicators-list"],[1,"mdm-cards"],["class","mdm-card",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mdm-button",3,"click"],[3,"formGroup"],["formArrayName","purposes"],[4,"ngFor","ngForOf"],[3,"removable","removed"],["matChipRemove",""],[3,"value"],[1,"mdm-card"],[1,"mdm-card",3,"extraIndicator","edit","delete"],[3,"formGroupName"],[3,"purposeForm","forms","edit"]],template:function(t,e){if(1&t&&(S.Tb(0,"div",0),S.Tb(1,"div",1),S.Dc(2,"General informations"),S.Sb(),S.Tb(3,"div",2),S.Tb(4,"div",3),S.Tb(5,"div",4),S.Dc(6),S.fc(7,"translate"),S.Sb(),S.Tb(8,"mat-form-field",5),S.Ob(9,"input",6),S.fc(10,"translate"),S.Tb(11,"mat-hint"),S.Tb(12,"mat-icon"),S.Dc(13,"info"),S.Sb(),S.Dc(14),S.fc(15,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Tb(16,"div",3),S.Tb(17,"div",4),S.Dc(18),S.fc(19,"translate"),S.Sb(),S.Tb(20,"mat-form-field",5),S.Tb(21,"mat-select",7),S.fc(22,"translate"),S.Tb(23,"mat-select-trigger"),S.Tb(24,"mat-chip-list"),S.Bc(25,Q,4,2,"mat-chip",8),S.Sb(),S.Sb(),S.Bc(26,q,2,2,"mat-option",9),S.Sb(),S.Tb(27,"mat-hint"),S.Tb(28,"mat-icon"),S.Dc(29,"info"),S.Sb(),S.Dc(30),S.fc(31,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Tb(32,"div",3),S.Tb(33,"div",4),S.Dc(34),S.fc(35,"translate"),S.Sb(),S.Tb(36,"mat-form-field",5),S.Ob(37,"input",10),S.fc(38,"translate"),S.Ob(39,"mat-datepicker-toggle",11),S.Ob(40,"mat-datepicker",null,12),S.Tb(42,"mat-hint"),S.Tb(43,"mat-icon"),S.Dc(44,"info"),S.Sb(),S.Dc(45),S.fc(46,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Tb(47,"div",3),S.Tb(48,"div",4),S.Dc(49),S.fc(50,"translate"),S.Sb(),S.Tb(51,"mat-form-field",5),S.Ob(52,"input",13),S.fc(53,"translate"),S.Ob(54,"mat-datepicker-toggle",11),S.Ob(55,"mat-datepicker",null,14),S.Tb(57,"mat-hint"),S.Tb(58,"mat-icon"),S.Dc(59,"info"),S.Sb(),S.Dc(60),S.fc(61,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(62,"div",0),S.Tb(63,"div",1),S.Dc(64,"General objective"),S.Sb(),S.Tb(65,"div",2),S.Tb(66,"div",3),S.Tb(67,"div",4),S.Dc(68),S.fc(69,"translate"),S.Sb(),S.Tb(70,"mat-form-field",5),S.Ob(71,"input",15),S.fc(72,"translate"),S.Tb(73,"mat-hint"),S.Tb(74,"mat-icon"),S.Dc(75,"info"),S.Sb(),S.Dc(76),S.fc(77,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Tb(78,"div",0),S.Tb(79,"div",4),S.Dc(80),S.fc(81,"translate"),S.Sb(),S.Tb(82,"div",16),S.Tb(83,"div",17),S.Bc(84,z,2,1,"ng-container",18),S.Sb(),S.Tb(85,"button",19),S.ac("click",(function(){return e.onAddNewIndicator()})),S.Tb(86,"mat-icon"),S.Dc(87,"add"),S.Sb(),S.Dc(88),S.fc(89,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(90,"div",0),S.Tb(91,"div",1),S.Dc(92,"Specific objective"),S.Sb(),S.Tb(93,"div",20),S.Tb(94,"mat-accordion",21),S.Bc(95,X,12,8,"ng-container",22),S.Sb(),S.Sb(),S.Sb(),S.Tb(96,"button",19),S.ac("click",(function(){return e.onAddNewPurpose()})),S.Tb(97,"mat-icon"),S.Dc(98,"add"),S.Sb(),S.Dc(99),S.fc(100,"translate"),S.Sb()),2&t){const t=S.qc(41),c=S.qc(56);S.Bb(3),S.kc("formGroup",e.logicalFrameForm),S.Bb(3),S.Ec(S.gc(7,29,"Name")),S.Bb(3),S.lc("placeholder",S.gc(10,31,"Name")),S.Bb(5),S.Fc("",S.gc(15,33,"Tooltip.BasicsEdition.Name")," "),S.Bb(4),S.Ec(S.gc(19,35,"CollectionSites")),S.Bb(3),S.lc("placeholder",S.gc(22,37,"CollectionSites")),S.Bb(4),S.kc("ngForOf",e.selectedEntities),S.Bb(1),S.kc("ngForOf",e.entities),S.Bb(4),S.Fc("",S.gc(31,39,"CollectionSites-Hint")," "),S.Bb(4),S.Ec(S.gc(35,41,"SpecificStartDate")),S.Bb(3),S.lc("placeholder",S.gc(38,43,"StartDate")),S.kc("matDatepicker",t),S.Bb(2),S.kc("for",t),S.Bb(6),S.Fc("",S.gc(46,45,"specific-date-start")," "),S.Bb(4),S.Ec(S.gc(50,47,"SpecificEndDate")),S.Bb(3),S.lc("placeholder",S.gc(53,49,"EndDate")),S.kc("matDatepicker",c),S.Bb(2),S.kc("for",c),S.Bb(6),S.Fc("",S.gc(61,51,"specific-date-end")," "),S.Bb(5),S.kc("formGroup",e.logicalFrameForm),S.Bb(3),S.Ec(S.gc(69,53,"GeneralObjective")),S.Bb(3),S.lc("placeholder",S.gc(72,55,"GeneralObjective")),S.Bb(5),S.Fc("",S.gc(77,57,"GeneralObjective-Hint")," "),S.Bb(4),S.Ec(S.gc(81,59,"Indicators")),S.Bb(4),S.kc("ngForOf",e.indicators.controls),S.Bb(4),S.Ec(S.gc(89,61,"AddIndicator")),S.Bb(5),S.kc("formGroup",e.logicalFrameForm),S.Bb(2),S.kc("ngForOf",e.purposes.controls),S.Bb(4),S.Ec(S.gc(100,63,"AddPurpose"))}},directives:[a.s,a.k,m.b,p.b,a.c,a.r,a.i,m.e,n.a,u.a,u.c,s.b,i.k,d.b,d.d,m.h,d.a,a.e,o.a,l.a,s.a,s.c,b.m,L.a,l.c,a.l,l.e,l.f,l.d,H],pipes:[r.c],styles:[".mat-expansion-panel-header-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.mat-expansion-panel[_ngcontent-%COMP%]{margin:16px 0}"]}),t})();function J(t,e){if(1&t){const t=S.Ub();S.Tb(0,"app-logical-frame",6),S.ac("clone",(function(e){return S.sc(t),S.ec(2).onClone(e)}))("edit",(function(e){return S.sc(t),S.ec(2).onEdit(e)}))("delete",(function(e){return S.sc(t),S.ec(2).onDelete(e)})),S.Sb()}if(2&t){const t=e.$implicit,c=S.ec(2);S.kc("project",c.project)("logicalFrame",t)}}function V(t,e){if(1&t){const t=S.Ub();S.Tb(0,"div",2),S.Tb(1,"div",3),S.Bc(2,J,1,2,"app-logical-frame",4),S.Sb(),S.Tb(3,"button",5),S.ac("click",(function(){return S.sc(t),S.ec().onCreate()})),S.Tb(4,"mat-icon"),S.Dc(5,"add"),S.Sb(),S.Dc(6),S.fc(7,"translate"),S.Sb(),S.Sb()}if(2&t){const t=S.ec();S.Bb(2),S.kc("ngForOf",t.logicalFrames),S.Bb(4),S.Fc(" ",S.gc(7,2,"CreateLogicalFramework")," ")}}function W(t,e){if(1&t){const t=S.Ub();S.Tb(0,"div",2),S.Tb(1,"app-logical-frame-edit",7),S.ac("edit",(function(e){return S.sc(t),S.ec().onEdit(e)})),S.Sb(),S.Sb()}if(2&t){const t=S.ec();S.Bb(1),S.kc("logicalFrame",t.currentLogicalFrame)("entities",t.entities)("forms",t.project.forms)}}const Z=[{path:"",component:(()=>{class t{constructor(t){this.projectService=t,this.logicalFrames=[],this.edition=!1}ngOnInit(){this.projectService.openedProject.subscribe(t=>{this.project=t,this.logicalFrames=t.logicalFrames,this.entities=t.entities,this.currentLogicalFrame&&(this.currentLogicalFrame=this.logicalFrames.find(t=>t.id===this.currentLogicalFrame.id))})}onCreate(){this.currentLogicalFrame=new y.a,this.project.logicalFrames.push(this.currentLogicalFrame),this.projectService.project.next(this.project),this.edition=!0}onClone(t){this.currentLogicalFrame=new y.a(t.serialize()),this.project.logicalFrames.push(this.currentLogicalFrame),this.projectService.project.next(this.project),this.edition=!0}onEdit(t){this.edition=!0,this.currentLogicalFrame=t,this.projectService.project.next(this.project)}onDelete(t){this.project.logicalFrames=this.project.logicalFrames.filter(e=>e.id!==t.id),this.projectService.project.next(this.project)}}return t.\u0275fac=function(e){return new(e||t)(S.Nb(E.a))},t.\u0275cmp=S.Hb({type:t,selectors:[["app-logical-frames"]],decls:9,vars:8,consts:[[1,"info-section","blue"],["class","mdm-section",4,"ngIf"],[1,"mdm-section"],[1,"mdm-cards"],["class","mdm-card",3,"project","logicalFrame","clone","edit","delete",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mdm-button",3,"click"],[1,"mdm-card",3,"project","logicalFrame","clone","edit","delete"],[3,"logicalFrame","entities","forms","edit"]],template:function(t,e){1&t&&(S.Tb(0,"div",0),S.Tb(1,"p"),S.Dc(2),S.fc(3,"translate"),S.Sb(),S.Tb(4,"p"),S.Dc(5),S.fc(6,"translate"),S.Sb(),S.Sb(),S.Bc(7,V,8,4,"div",1),S.Bc(8,W,2,3,"div",1)),2&t&&(S.Bb(2),S.Ec(S.gc(3,4,"LogicalFrameworksPageDescription.Line1")),S.Bb(3),S.Ec(S.gc(6,6,"LogicalFrameworksPageDescription.Line2")),S.Bb(2),S.kc("ngIf",!e.edition),S.Bb(1),S.kc("ngIf",e.edition))},directives:[i.l,i.k,o.a,n.a,N,Y],pipes:[r.c],styles:[".cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.2}.cdk-drag-animating[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),t})()}];let tt=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[O.f.forChild(Z)],O.f]}),t})(),et=(()=>{class t{}return t.\u0275mod=S.Lb({type:t}),t.\u0275inj=S.Kb({factory:function(e){return new(e||t)},imports:[[i.c,r.b,tt,w,B,o.b,n.b]]}),t})()}}]);