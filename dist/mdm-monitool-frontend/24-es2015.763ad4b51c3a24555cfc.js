(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"0B1/":function(t,e,n){"use strict";n.r(e),n.d(e,"ProjectsModule",(function(){return nt}));var a=n("ofXK"),o=n("3Pt+"),r=n("bTqV"),c=n("8LU1"),i=n("0EQZ"),s=n("fXoL"),l=n("FKr1"),u=n("u47x");const d=["button"],b=["*"],g=new s.s("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),h=new s.s("MatButtonToggleGroup"),m={provide:o.p,useExisting:Object(s.V)(()=>v),multi:!0};let p=0;class f{constructor(t,e){this.source=t,this.value=e}}let v=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+p++,this.valueChange=new s.o,this.change=new s.o,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=Object(c.c)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(c.c)(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(c.c)(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new i.c(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new f(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,a=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(s.h),s.Nb(g,8))},t.\u0275dir=s.Ib({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){var a;1&t&&s.Gb(n,T,!0),2&t&&s.pc(a=s.bc())&&(e._buttonToggles=a)},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(s.Cb("aria-disabled",e.disabled),s.Fb("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[s.Ab([m,{provide:h,useExisting:t}])]}),t})();class _{}const S=Object(l.u)(_);let T=(()=>{class t extends S{constructor(t,e,n,a,o,r){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=a,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new s.o;const c=Number(o);this.tabIndex=c||0===c?c:null,this.buttonToggleGroup=t,this.appearance=r&&r.appearance?r.appearance:"standard"}get buttonId(){return this.id+"-button"}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=Object(c.c)(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=Object(c.c)(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+p++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new f(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(h,8),s.Nb(s.h),s.Nb(s.l),s.Nb(u.h),s.Yb("tabindex"),s.Nb(g,8))},t.\u0275cmp=s.Hb({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){var n;1&t&&s.Ic(d,!0),2&t&&s.pc(n=s.bc())&&(e._buttonElement=n.first)},hostAttrs:[1,"mat-button-toggle"],hostVars:11,hostBindings:function(t,e){1&t&&s.ac("focus",(function(){return e.focus()})),2&t&&(s.Cb("tabindex",-1)("id",e.id)("name",null),s.Fb("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[s.yb],ngContentSelectors:b,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(s.jc(),s.Tb(0,"button",0,1),s.ac("click",(function(){return e._onButtonClick()})),s.Tb(2,"div",2),s.ic(3),s.Sb(),s.Sb(),s.Ob(4,"div",3),s.Ob(5,"div",4)),2&t){const t=s.qc(1);s.kc("id",e.buttonId)("disabled",e.disabled||null),s.Cb("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),s.Bb(5),s.kc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[l.o],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),y=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[l.h,l.p],l.h]}),t})();var k=n("kmnG"),x=n("qFsG"),C=n("d3UM"),j=n("sYmb"),w=n("Wp6s"),O=n("A5z7"),B=n("NFeN"),M=n("STbY"),D=n("tyNb"),P=n("0IaG");let F=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[a.c,j.b,w.g,r.b,P.f,O.d,B.b,M.b,D.f]]}),t})(),N=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[a.c,o.m,j.b,x.c,B.b,k.d]]}),t})();var I=n("7Cbv"),A=n("O3o7"),L=n("Tj/N"),E=n("c3AT"),G=n("lGQG");let V=(()=>{class t{constructor(){this.search=new s.o}ngOnInit(){}onSearch(t){this.search.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Hb({type:t,selectors:[["app-searchbar"]],outputs:{search:"search"},decls:7,vars:7,consts:[["appearance","outline",1,"mdm-form-field","searchbar"],["svgIcon","search","matPrefix",""],["type","text","matInput","",3,"placeholder","ngModel","ngModelChange"]],template:function(t,e){1&t&&(s.Tb(0,"mat-form-field",0),s.Tb(1,"mat-label"),s.Dc(2),s.fc(3,"translate"),s.Sb(),s.Ob(4,"mat-icon",1),s.Tb(5,"input",2),s.ac("ngModelChange",(function(t){return e.searchText=t}))("ngModelChange",(function(t){return e.onSearch(t)})),s.fc(6,"translate"),s.Sb(),s.Sb()),2&t&&(s.Bb(2),s.Ec(s.gc(3,3,"Search")),s.Bb(3),s.lc("placeholder",s.gc(6,5,"Search")),s.kc("ngModel",e.searchText))},directives:[k.b,k.f,B.a,k.g,x.b,o.c,o.r,o.u],pipes:[j.c],styles:[".searchbar[_ngcontent-%COMP%]{display:block}"]}),t})();var R=n("mrSG");let U=(()=>{class t{constructor(t){this.dialogRef=t}ngOnInit(){}onSubmit(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(P.g))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-clone-project-modal"]],decls:16,vars:12,consts:[["mat-icon-button","","mat-dialog-close","",1,"dialog-close"],["mat-dialog-title",""],["align","end"],["mat-stroked-button","","mat-dialog-close","",1,"mdm-button"],["mat-flat-button","","color","primary",1,"mdm-button",3,"click"]],template:function(t,e){1&t&&(s.Tb(0,"button",0),s.Tb(1,"mat-icon"),s.Dc(2,"close"),s.Sb(),s.Sb(),s.Tb(3,"h2",1),s.Dc(4),s.fc(5,"translate"),s.Sb(),s.Tb(6,"p"),s.Dc(7),s.fc(8,"translate"),s.Sb(),s.Tb(9,"mat-dialog-actions",2),s.Tb(10,"button",3),s.Dc(11),s.fc(12,"translate"),s.Sb(),s.Tb(13,"button",4),s.ac("click",(function(){return e.onSubmit()})),s.Dc(14),s.fc(15,"translate"),s.Sb(),s.Sb()),2&t&&(s.Bb(4),s.Ec(s.gc(5,4,"CloneProject")),s.Bb(3),s.Ec(s.gc(8,6,"CloneProjectInfo")),s.Bb(4),s.Ec(s.gc(12,8,"Cancel")),s.Bb(3),s.Ec(s.gc(15,10,"Confirm")))},directives:[r.a,P.d,B.a,P.h,P.c],pipes:[j.c],styles:[""]}),t})();function K(t,e){if(1&t&&(s.Tb(0,"div"),s.Dc(1),s.Sb()),2&t){const t=e.$implicit,n=s.ec();s.Bb(1),s.Ec(t.shortName[n.currentLang])}}function z(t,e){if(1&t){const t=s.Ub();s.Rb(0),s.Tb(1,"button",13),s.ac("click",(function(){return s.sc(t),s.ec().onOpen()})),s.Dc(2),s.fc(3,"translate"),s.Sb(),s.Tb(4,"button",14),s.Tb(5,"mat-icon"),s.Dc(6,"expand_more"),s.Sb(),s.Sb(),s.Qb()}if(2&t){s.ec();const t=s.qc(44);s.Bb(2),s.Ec(s.gc(3,2,"Open")),s.Bb(2),s.kc("matMenuTriggerFor",t)}}function H(t,e){if(1&t){const t=s.Ub();s.Rb(0),s.Tb(1,"button",13),s.ac("click",(function(){return s.sc(t),s.ec().onRestore()})),s.Tb(2,"mat-icon"),s.Dc(3,"restore"),s.Sb(),s.Dc(4),s.fc(5,"translate"),s.Sb(),s.Qb()}2&t&&(s.Bb(4),s.Ec(s.gc(5,1,"Restore")))}function Q(t,e){if(1&t){const t=s.Ub();s.Tb(0,"button",15),s.ac("click",(function(){return s.sc(t),s.ec().onClone()})),s.Tb(1,"mat-icon"),s.Dc(2,"content_copy"),s.Sb(),s.Tb(3,"span"),s.Dc(4),s.fc(5,"translate"),s.Sb(),s.Sb()}2&t&&(s.Bb(4),s.Ec(s.gc(5,1,"Clone")))}function q(t,e){if(1&t){const t=s.Ub();s.Tb(0,"button",15),s.ac("click",(function(){return s.sc(t),s.ec().onDelete()})),s.Tb(1,"mat-icon"),s.Dc(2,"delete"),s.Sb(),s.Tb(3,"span"),s.Dc(4),s.fc(5,"translate"),s.Sb(),s.Sb()}2&t&&(s.Bb(4),s.Ec(s.gc(5,1,"Delete")))}let $=(()=>{class t{constructor(t,e,n,a,o){this.translateService=t,this.projectService=e,this.authService=n,this.router=a,this.dialog=o,this.delete=new s.o,this.restore=new s.o,this.clone=new s.o,this.getProjects=new s.o}get currentLang(){return this.translateService.currentLang?this.translateService.currentLang:this.translateService.defaultLang}ngOnInit(){this.authService.currentUser.subscribe(t=>{this.currentUser=new L.a(t),this.projectOwner=this.project.users.filter(t=>t.id===this.currentUser.id).length>0})}onOpen(){return Object(R.b)(this,void 0,void 0,(function*(){this.projectService.get(this.project.id).then(()=>{this.router.navigate(["/project",this.project.id])})}))}onDelete(){this.delete.emit(this.project)}onRestore(){this.restore.emit(this.project)}onClone(){this.dialog.open(U).afterClosed().subscribe(t=>{t&&this.clone.emit(this.project)})}projectCardAvatar(){if(this.project.users.length>0)return this.projectOwner?"person":localStorage.getItem("user::"+this.currentUser.id+"favorite"+this.project.id)?"star":"star_border"}toggleFavourite(){this.projectOwner||(this.getProjects.emit(),localStorage.getItem("user::"+this.currentUser.id+"favorite"+this.project.id)?localStorage.removeItem("user::"+this.currentUser.id+"favorite"+this.project.id):localStorage.setItem("user::"+this.currentUser.id+"favorite"+this.project.id,"true"))}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(j.d),s.Nb(E.a),s.Nb(G.a),s.Nb(D.b),s.Nb(P.b))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-project"]],inputs:{project:"project"},outputs:{delete:"delete",restore:"restore",clone:"clone",getProjects:"getProjects"},decls:47,vars:40,consts:[[1,"card-header"],["mat-card-avatar","",1,"project-country"],[3,"click"],[1,"project-status"],["color","accent","selected",""],[1,"card-info"],[1,"card-info-title"],[1,"card-info-value"],[4,"ngFor","ngForOf"],["align","end",1,"mdm-button-group"],[4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-stroked-button","",1,"mdm-button",3,"click"],["mat-stroked-button","","mat-icon-button","",1,"mdm-button",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(s.Tb(0,"mat-card"),s.Tb(1,"mat-card-header",0),s.Tb(2,"div",1),s.Tb(3,"mat-icon",2),s.ac("click",(function(){return e.toggleFavourite()})),s.Dc(4),s.Sb(),s.Sb(),s.Tb(5,"mat-card-title"),s.Dc(6),s.Sb(),s.Tb(7,"mat-chip-list",3),s.Tb(8,"mat-chip",4),s.Dc(9),s.fc(10,"translate"),s.Sb(),s.Sb(),s.Sb(),s.Tb(11,"mat-card-content"),s.Tb(12,"div",5),s.Tb(13,"div",6),s.Dc(14),s.fc(15,"translate"),s.Sb(),s.Tb(16,"div",7),s.Dc(17),s.Sb(),s.Sb(),s.Tb(18,"div",5),s.Tb(19,"div",6),s.Dc(20),s.fc(21,"translate"),s.Sb(),s.Tb(22,"div",7),s.Dc(23),s.fc(24,"date"),s.fc(25,"date"),s.Sb(),s.Sb(),s.Tb(26,"div",5),s.Tb(27,"div",6),s.Dc(28),s.fc(29,"translate"),s.Sb(),s.Tb(30,"div",7),s.Bc(31,K,2,1,"div",8),s.Sb(),s.Sb(),s.Tb(32,"div",5),s.Tb(33,"div",6),s.Dc(34),s.fc(35,"translate"),s.Sb(),s.Tb(36,"div",7),s.Dc(37),s.fc(38,"date"),s.fc(39,"translate"),s.Sb(),s.Sb(),s.Sb(),s.Tb(40,"mat-card-actions",9),s.Bc(41,z,7,4,"ng-container",10),s.Bc(42,H,6,3,"ng-container",10),s.Sb(),s.Sb(),s.Tb(43,"mat-menu",null,11),s.Bc(45,Q,6,3,"button",12),s.Bc(46,q,6,3,"button",12),s.Sb()),2&t&&(s.Bb(3),s.Db(e.projectOwner?"icon-default":"icon-button"),s.Bb(1),s.Ec(e.projectCardAvatar()),s.Bb(2),s.Fc(" ",e.project.country," "),s.Bb(3),s.Ec(s.gc(10,19,e.project.status)),s.Bb(5),s.Ec(s.gc(15,21,"Name")),s.Bb(3),s.Ec(e.project.name),s.Bb(3),s.Ec(s.gc(21,23,"Date")),s.Bb(3),s.Gc("",s.hc(24,25,e.project.start,"mediumDate")," - ",s.hc(25,28,e.project.end,"mediumDate"),""),s.Bb(5),s.Ec(s.gc(29,31,"Thematics")),s.Bb(3),s.kc("ngForOf",e.project.themes),s.Bb(3),s.Ec(s.gc(35,33,"LastEntry")),s.Bb(3),s.Ec(e.project.inputDate?s.hc(38,35,e.project.inputDate,"mediumDate"):s.gc(39,38,"None")),s.Bb(4),s.kc("ngIf",e.project.active),s.Bb(1),s.kc("ngIf",!e.project.active),s.Bb(3),s.kc("ngIf",e.project.active),s.Bb(1),s.kc("ngIf",e.project.active))},directives:[w.a,w.e,w.c,B.a,w.h,O.b,O.a,w.d,a.k,w.b,a.l,M.d,r.a,M.c,M.a],pipes:[j.c,a.e],styles:[".card-header[_ngcontent-%COMP%]   .project-country[_ngcontent-%COMP%]{height:24px;width:24px}.card-header[_ngcontent-%COMP%]   .project-country[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.card-header[_ngcontent-%COMP%]   .project-status[_ngcontent-%COMP%]{margin-left:auto}.card-info[_ngcontent-%COMP%]{flex-direction:row}.icon-button[_ngcontent-%COMP%]{cursor:pointer}.icon-default[_ngcontent-%COMP%]{cursor:default}"]}),t})();const X=["allSelected"];function Y(t,e){if(1&t){const t=s.Ub();s.Tb(0,"mat-option",17),s.ac("click",(function(){return s.sc(t),s.ec().onToggleCountry()})),s.Dc(1),s.Sb()}if(2&t){const t=e.$implicit;s.kc("value",t),s.Bb(1),s.Ec(t)}}function J(t,e){if(1&t&&(s.Tb(0,"mat-button-toggle",18),s.Dc(1),s.fc(2,"translate"),s.Sb()),2&t){const t=e.$implicit;s.kc("value",t.value),s.Bb(1),s.Ec(s.gc(2,2,t.text))}}function W(t,e){if(1&t){const t=s.Ub();s.Tb(0,"app-project",19),s.ac("getProjects",(function(){return s.sc(t),s.ec().getProjects()}))("delete",(function(e){return s.sc(t),s.ec().onDelete(e)}))("restore",(function(e){return s.sc(t),s.ec().onRestore(e)}))("clone",(function(e){return s.sc(t),s.ec().onClone(e)})),s.Sb()}2&t&&s.kc("project",e.$implicit)}const Z=[{path:"",component:(()=>{class t{constructor(t,e,n,a,o){this.fb=t,this.projectService=e,this.translateService=n,this.authService=a,this.router=o,this.countries=[],this.statuses=[{text:"OngoingPlural",value:"Ongoing"},{text:"FinishedPlural",value:"Finished"},{text:"DeletedPlural",value:"Deleted"}]}get currentLang(){return this.translateService.currentLang?this.translateService.currentLang:this.translateService.defaultLang}ngOnInit(){this.filtersForm=this.fb.group({search:"",countries:[[]],themes:[[]],statuses:[["Ongoing"]]}),this.getProjects(),this.filtersForm.valueChanges.subscribe(()=>{this.onFilterChange()}),this.authService.currentUser.subscribe(t=>{this.currentUser=new L.a(t)})}getProjects(){this.projectService.list().then(t=>(this.allProjects=t,this.countries=[...new Set(t.map(t=>t.country))],this.filtersForm.controls.countries.setValue(this.countries.concat(["0"])),this.projects.sort((t,e)=>t.users.find(t=>this.isOwner(t))||e.users.find(t=>this.isOwner(t))?t.users.find(t=>this.isOwner(t))&&e.users.find(t=>this.isOwner(t))?t.country.localeCompare(e.country):t.users.find(t=>this.isOwner(t))?-1:1:localStorage.getItem("user::"+this.currentUser.id+"favorite"+t.id)?localStorage.getItem("user::"+this.currentUser.id+"favorite"+e.id)?t.country.localeCompare(e.country):-1:1)))}onCreate(){const t=new A.a;t.id="project:"+Object(I.a)();const e=new L.a({type:"internal",role:"owner",id:this.currentUser.id});t.users.push(e),this.projectService.create(t),this.router.navigate(["/project",t.id])}onDelete(t){this.projectService.delete(t.id).then(()=>{this.getProjects()})}onRestore(t){this.projectService.restore(t.id).then(()=>{this.getProjects()})}onClone(t){this.projectService.clone(t.id).then(()=>{this.getProjects()})}onToggleCountry(){this.allSelected.selected?this.allSelected.deselect():this.filtersForm.value.countries.length===this.countries.length&&this.allSelected.select()}onToggleAllCountries(){this.filtersForm.controls.countries.setValue(this.allSelected.selected?[...this.countries,"0"]:[])}onSearch(t){this.filtersForm.controls.search.setValue(t)}onFilterChange(){let t=this.filterByText(this.allProjects);t=this.filterByCountries(t),t=this.filterByStatuses(t),this.projects=t}filterByText(t){const e=this.filtersForm.value.search.toLowerCase();return t.filter(t=>t.name.toLowerCase().includes(e)||t.country.toLowerCase().includes(e)||t.themes.find(t=>t.shortName[this.currentLang].toLowerCase().includes(e)))}filterByCountries(t){const e=this.filtersForm.value.countries;return e.length>0?t.filter(t=>e.includes(t.country)):[]}filterByStatuses(t){let e=[];const n=this.filtersForm.value.statuses;return n.includes("Ongoing")&&(e=e.concat(t.filter(t=>"Ongoing"===t.status))),n.includes("Finished")&&(e=e.concat(t.filter(t=>"Finished"===t.status))),n.includes("Deleted")&&(e=e.concat(t.filter(t=>"Deleted"===t.status))),e}isOwner(t){return"owner"===t.role&&t.id===this.currentUser.id}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(o.f),s.Nb(E.a),s.Nb(j.d),s.Nb(G.a),s.Nb(D.b))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-projects"]],viewQuery:function(t,e){var n;1&t&&s.Ic(X,!0),2&t&&s.pc(n=s.bc())&&(e.allSelected=n.first)},decls:30,vars:17,consts:[[1,"full-page"],[1,"mdm-title"],[1,"actions",3,"formGroup"],[1,"actions-group"],[1,"action"],["appearance","outline",1,"mdm-form-field"],["formControlName","countries","multiple",""],["value","0",3,"click"],["allSelected",""],[3,"value","click",4,"ngFor","ngForOf"],["formControlName","statuses","multiple",""],[3,"value",4,"ngFor","ngForOf"],[3,"search"],["mat-raised-button","","color","primary",3,"click"],["svgIcon","add-folder"],[1,"mdm-cards"],["class","mdm-card",3,"project","getProjects","delete","restore","clone",4,"ngFor","ngForOf"],[3,"value","click"],[3,"value"],[1,"mdm-card",3,"project","getProjects","delete","restore","clone"]],template:function(t,e){1&t&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Dc(2),s.fc(3,"translate"),s.Sb(),s.Tb(4,"div",2),s.Tb(5,"div",3),s.Tb(6,"div",4),s.Tb(7,"mat-form-field",5),s.Tb(8,"mat-label"),s.Dc(9),s.fc(10,"translate"),s.Sb(),s.Tb(11,"mat-select",6),s.Tb(12,"mat-option",7,8),s.ac("click",(function(){return e.onToggleAllCountries()})),s.Dc(14),s.fc(15,"translate"),s.Sb(),s.Bc(16,Y,2,2,"mat-option",9),s.Sb(),s.Sb(),s.Sb(),s.Tb(17,"div",4),s.Tb(18,"mat-button-toggle-group",10),s.Bc(19,J,3,4,"mat-button-toggle",11),s.Sb(),s.Sb(),s.Sb(),s.Tb(20,"div",3),s.Tb(21,"div",4),s.Tb(22,"app-searchbar",12),s.ac("search",(function(t){return e.onSearch(t)})),s.Sb(),s.Sb(),s.Tb(23,"div",4),s.Tb(24,"button",13),s.ac("click",(function(){return e.onCreate()})),s.Ob(25,"mat-icon",14),s.Dc(26),s.fc(27,"translate"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(28,"div",15),s.Bc(29,W,1,1,"app-project",16),s.Sb(),s.Sb()),2&t&&(s.Bb(2),s.Ec(s.gc(3,9,"Projects")),s.Bb(2),s.kc("formGroup",e.filtersForm),s.Bb(5),s.Ec(s.gc(10,11,"Countries")),s.Bb(5),s.Gc("",s.gc(15,13,"AllCountries")," (",e.countries.length,")"),s.Bb(2),s.kc("ngForOf",e.countries),s.Bb(3),s.kc("ngForOf",e.statuses),s.Bb(7),s.Fc(" ",s.gc(27,15,"CreateNewProject")," "),s.Bb(3),s.kc("ngForOf",e.projects))},directives:[o.s,o.k,k.b,k.f,C.a,o.r,o.i,l.m,a.k,v,V,r.a,B.a,T,$],pipes:[j.c],styles:['@font-face{font-family:Neutra-Text;src:url(/assets/fonts/Neutra-Text_32171.ttf) format("truetype")}@font-face{font-family:Neutra-Text;src:url(/assets/fonts/Neutra-Text-Bold_32106.ttf) format("truetype");font-weight:700}@font-face{font-family:Neutra-Text-Light;src:url(/assets/fonts/Neutra-Text-Light_32131.ttf) format("truetype")}@font-face{font-family:Neutra-Text-Light-Demi;src:url(/assets/fonts/Neutra-Text-Light-Demi_32117.ttf) format("truetype")}.actions[_ngcontent-%COMP%]{justify-content:space-between;margin-top:24px}.actions[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}@media screen and (min-width:600px){.actions[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]{flex:1}.actions[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]:first-child   .action[_ngcontent-%COMP%]:not(:last-child){margin-right:16px}.actions[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]:last-child{justify-content:flex-end}.actions[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]:last-child   .action[_ngcontent-%COMP%]:not(:first-child){margin-left:16px}}@media screen and (max-width:599px){.actions[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.actions[_ngcontent-%COMP%]   .actions-group[_ngcontent-%COMP%]:first-child{margin-bottom:24px}}']}),t})()}];let tt=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[D.f.forChild(Z)],D.f]}),t})(),et=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[a.c,j.b,r.b,B.b,k.d,P.f]]}),t})(),nt=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(e){return new(e||t)},imports:[[a.c,et,j.b,tt,o.m,o.w,C.b,x.c,k.d,B.b,r.b,y,N,F]]}),t})()},Wp6s:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return d}));var a=n("R1ws"),o=n("FKr1"),r=n("fXoL");const c=["*",[["mat-card-footer"]]],i=["*","mat-card-footer"],s=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],l=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),b=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t})(),m=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(a.a,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:i,decls:2,vars:0,template:function(t,e){1&t&&(r.jc(c),r.ic(0),r.ic(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:l,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.jc(s),r.ic(0),r.Tb(1,"div",0),r.ic(2,1),r.Sb(),r.ic(3,2))},encapsulation:2,changeDetection:0}),t})(),f=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[o.h],o.h]}),t})()}}]);