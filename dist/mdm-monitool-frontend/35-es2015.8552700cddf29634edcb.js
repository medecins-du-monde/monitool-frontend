(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{fgAf:function(t,c,r){"use strict";r.r(c),r.d(c,"ExtraIndicatorsModule",(function(){return S}));var o=r("Wp6s"),i=r("0IaG"),n=r("ofXK"),e=r("3Pt+"),a=r("bTqV"),s=r("NFeN"),d=r("sYmb"),b=r("YjUb"),p=r("tyNb"),l=r("QlGT"),f=r("IPwQ"),u=r("hPXr"),m=r("fXoL"),h=r("c3AT"),I=r("XEzf");function g(t,c){if(1&t){const t=m.Ub();m.Rb(0,8),m.Tb(1,"app-extra-indicator",9),m.ac("edit",(function(){m.sc(t);const r=c.$implicit,o=c.index;return m.ec(2).onEditIndicator(r,o)}))("delete",(function(){m.sc(t);const r=c.index;return m.ec(2).onDeleteIndicator(r)})),m.Sb(),m.Qb()}if(2&t){const t=c.$implicit;m.Bb(1),m.kc("extraIndicator",t.value)}}function j(t,c){if(1&t&&(m.Tb(0,"div",6),m.Bc(1,g,2,1,"ng-container",7),m.Sb()),2&t){const t=m.ec();m.Bb(1),m.kc("ngForOf",t.indicators.controls)}}function x(t,c){1&t&&(m.Tb(0,"p"),m.Dc(1),m.fc(2,"translate"),m.Sb()),2&t&&(m.Bb(1),m.Fc("",m.gc(2,1,"NoExtraIndicator")," "))}const v=[{path:"",component:(()=>{class t{constructor(t,c,r){this.projectService=t,this.fb=c,this.dialog=r,this.extraIndicators=[]}ngOnInit(){this.projectService.openedProject.subscribe(t=>{this.project=t,this.setForm()})}get indicators(){return this.extraIndicatorsForm.controls.indicators}setForm(){this.extraIndicatorsForm=this.fb.group({indicators:this.fb.array(this.project.extraIndicators.map(t=>u.a.newIndicator(t)))})}onAddNewIndicator(){this.openDialog(u.a.newIndicator(),!0)}onEditIndicator(t,c){this.openDialog(u.a.newIndicator(t.value),!1,c)}onDeleteIndicator(t){this.indicators.removeAt(t),this.project.extraIndicators.splice(t,1),this.projectService.project.next(this.project)}openDialog(t,c,r){this.dialog.open(l.a,{data:{indicator:t,forms:this.project.forms}}).afterClosed().subscribe(t=>{t&&(c?(this.project.extraIndicators.push(new f.d(t.indicator.value)),this.indicators.push(t.indicator),this.projectService.project.next(this.project)):null!==r&&(this.project.extraIndicators[r]=new f.d(t.indicator.value),this.indicators.setControl(r,t.indicator),this.projectService.project.next(this.project)))})}}return t.\u0275fac=function(c){return new(c||t)(m.Nb(h.a),m.Nb(e.f),m.Nb(i.b))},t.\u0275cmp=m.Hb({type:t,selectors:[["app-extra-indicators"]],decls:17,vars:12,consts:[[1,"info-section","blue"],[1,"mdm-section",3,"formGroup"],["formArrayName","indicators",1,"indicators-list"],["class","mdm-cards",4,"ngIf","ngIfElse"],["elseBlock",""],["mat-stroked-button","",1,"mdm-button",3,"click"],[1,"mdm-cards"],["class","mdm-card",4,"ngFor","ngForOf"],[1,"mdm-card"],[1,"mdm-card",3,"extraIndicator","edit","delete"]],template:function(t,c){if(1&t&&(m.Tb(0,"div",0),m.Tb(1,"p"),m.Dc(2),m.fc(3,"translate"),m.Sb(),m.Tb(4,"p"),m.Dc(5),m.fc(6,"translate"),m.Sb(),m.Sb(),m.Tb(7,"div",1),m.Tb(8,"div",2),m.Bc(9,j,2,1,"div",3),m.Bc(10,x,3,3,"ng-template",null,4,m.Cc),m.Tb(12,"button",5),m.ac("click",(function(){return c.onAddNewIndicator()})),m.Tb(13,"mat-icon"),m.Dc(14,"add"),m.Sb(),m.Dc(15),m.fc(16,"translate"),m.Sb(),m.Sb(),m.Sb()),2&t){const t=m.qc(11);m.Bb(2),m.Ec(m.gc(3,6,"ExtraIndicatorsInfo.0")),m.Bb(3),m.Ec(m.gc(6,8,"ExtraIndicatorsInfo.1")),m.Bb(2),m.kc("formGroup",c.extraIndicatorsForm),m.Bb(2),m.kc("ngIf",0!==c.project.extraIndicators.length)("ngIfElse",t),m.Bb(6),m.Ec(m.gc(16,10,"AddIndicator"))}},directives:[e.s,e.k,e.e,n.l,a.a,s.a,n.k,I.a],pipes:[d.c],styles:[""]}),t})()}];let w=(()=>{class t{}return t.\u0275mod=m.Lb({type:t}),t.\u0275inj=m.Kb({factory:function(c){return new(c||t)},imports:[[p.f.forChild(v)],p.f]}),t})(),S=(()=>{class t{}return t.\u0275mod=m.Lb({type:t}),t.\u0275inj=m.Kb({factory:function(c){return new(c||t)},imports:[[n.c,d.b,w,b.a,a.b,s.b,i.f,o.g,e.w]]}),t})()}}]);