!function(){function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}function e(t,n){return(e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,n)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"Ey/r":function(e,i,a){"use strict";a.r(i),a.d(i,"DataSourcesModule",(function(){return xe}));var r,s,l,u,d,b,m,f,p,h,g=a("ofXK"),v=a("bTqV"),S=a("NFeN"),k=a("sYmb"),D=a("3Pt+"),y=a("qFsG"),T=a("d3UM"),B=a("A5z7"),_=a("kmnG"),w=a("FKr1"),x=a("iadO"),C=a("7EHt"),F=a("0IaG"),O=a("+0xr"),E=a("bSwM"),P=a("fXoL"),N=((r=function t(){c(this,t)}).\u0275mod=P.Lb({type:r}),r.\u0275inj=P.Kb({factory:function(t){return new(t||r)},imports:[[g.c,k.b,D.m,D.w,v.b,S.b,O.p,_.d,T.b,F.f,y.c,E.b,B.d]]}),r),A=a("8LU1"),R=a("R1ws"),j=a("u47x"),G=a("0EQZ"),I=["input"],M=function(){return{enterDuration:150}},q=["*"],L=new P.s("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}}),z=0,H={provide:D.p,useExisting:Object(P.V)((function(){return Q})),multi:!0},U=function t(e,n){c(this,t),this.source=e,this.value=n},V=new P.s("MatRadioGroup"),$=((l=function(){function t(e){c(this,t),this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+z++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new P.o}return o(t,[{key:"_checkSelectedRadioButton",value:function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}},{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"_touch",value:function(){this.onTouched&&this.onTouched()}},{key:"_updateRadioButtonNames",value:function(){var t=this;this._radios&&this._radios.forEach((function(e){e.name=t.name,e._markForCheck()}))}},{key:"_updateSelectedRadioFromValue",value:function(){var t=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach((function(e){e.checked=t.value===e.value,e.checked&&(t._selected=e)})))}},{key:"_emitChangeEvent",value:function(){this._isInitialized&&this.change.emit(new U(this._selected,this._value))}},{key:"_markRadiosForCheck",value:function(){this._radios&&this._radios.forEach((function(t){return t._markForCheck()}))}},{key:"writeValue",value:function(t){this.value=t,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(t){this._controlValueAccessorChangeFn=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetector.markForCheck()}},{key:"name",get:function(){return this._name},set:function(t){this._name=t,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(A.c)(t),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(A.c)(t),this._markRadiosForCheck()}}]),t}()).\u0275fac=function(t){return new(t||l)(P.Nb(P.h))},l.\u0275dir=P.Ib({type:l,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),l),Q=((s=function(e){t(a,e);var i=n(a);function a(){return c(this,a),i.apply(this,arguments)}return a}($)).\u0275fac=function(t){return K(t||s)},s.\u0275dir=P.Ib({type:s,selectors:[["mat-radio-group"]],contentQueries:function(t,e,n){var i;1&t&&P.Gb(n,W,!0),2&t&&P.pc(i=P.bc())&&(e._radios=i)},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[P.Ab([H,{provide:V,useExisting:s}]),P.yb]}),s),K=P.Vb(Q),X=Object(w.u)(Object(w.x)((function t(e){c(this,t),this._elementRef=e}))),Y=((p=function(e){t(a,e);var i=n(a);function a(t,e,n,r,o,s,l){var u;return c(this,a),(u=i.call(this,e))._changeDetector=n,u._focusMonitor=r,u._radioDispatcher=o,u._animationMode=s,u._providerOverride=l,u._uniqueId="mat-radio-"+ ++z,u.id=u._uniqueId,u.change=new P.o,u._checked=!1,u._value=null,u._removeUniqueSelectionListener=function(){},u.radioGroup=t,u._removeUniqueSelectionListener=o.listen((function(t,e){t!==u.id&&e===u.name&&(u.checked=!1)})),u}return o(a,[{key:"focus",value:function(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"ngOnInit",value:function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}},{key:"ngAfterViewInit",value:function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){!e&&t.radioGroup&&t.radioGroup._touch()}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}},{key:"_emitChangeEvent",value:function(){this.change.emit(new U(this,this._value))}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onInputClick",value:function(t){t.stopPropagation()}},{key:"_onInputChange",value:function(t){t.stopPropagation();var e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent())}},{key:"_setDisabled",value:function(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}},{key:"checked",get:function(){return this._checked},set:function(t){var e=Object(A.c)(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(t){this._labelPosition=t}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(t){this._setDisabled(Object(A.c)(t))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(t){this._required=Object(A.c)(t)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(t){this._color=t}},{key:"inputId",get:function(){return(this.id||this._uniqueId)+"-input"}}]),a}(X)).\u0275fac=function(t){return new(t||p)(P.Nb($),P.Nb(P.l),P.Nb(P.h),P.Nb(j.h),P.Nb(G.d),P.Nb(String),P.Nb(void 0))},p.\u0275dir=P.Ib({type:p,viewQuery:function(t,e){var n;1&t&&P.Ic(I,!0),2&t&&P.pc(n=P.bc())&&(e._inputElement=n.first)},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[P.yb]}),p),W=((f=function(e){t(a,e);var i=n(a);function a(t,e,n,r,o,s,l){return c(this,a),i.call(this,t,e,n,r,o,s,l)}return a}(Y)).\u0275fac=function(t){return new(t||f)(P.Nb(V,8),P.Nb(P.l),P.Nb(P.h),P.Nb(j.h),P.Nb(G.d),P.Nb(R.a,8),P.Nb(L,8))},f.\u0275cmp=P.Hb({type:f,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&P.ac("focus",(function(){return e._inputElement.nativeElement.focus()})),2&t&&(P.Cb("tabindex",-1)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),P.Fb("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[P.yb],ngContentSelectors:q,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(P.jc(),P.Tb(0,"label",0,1),P.Tb(2,"div",2),P.Ob(3,"div",3),P.Ob(4,"div",4),P.Tb(5,"input",5,6),P.ac("change",(function(t){return e._onInputChange(t)}))("click",(function(t){return e._onInputClick(t)})),P.Sb(),P.Tb(7,"div",7),P.Ob(8,"div",8),P.Sb(),P.Sb(),P.Tb(9,"div",9),P.Tb(10,"span",10),P.Dc(11,"\xa0"),P.Sb(),P.ic(12),P.Sb(),P.Sb()),2&t){var n=P.qc(1);P.Cb("for",e.inputId),P.Bb(5),P.kc("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),P.Cb("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),P.Bb(2),P.kc("matRippleTrigger",n)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",P.nc(18,M)),P.Bb(2),P.Fb("mat-radio-label-before","before"==e.labelPosition)}},directives:[w.o],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),f),J=((m=function t(){c(this,t)}).\u0275mod=P.Lb({type:m}),m.\u0275inj=P.Kb({factory:function(t){return new(t||m)},imports:[[w.p,w.h],w.h]}),m),Z=((b=function t(){c(this,t)}).\u0275mod=P.Lb({type:b}),b.\u0275inj=P.Kb({factory:function(t){return new(t||b)},imports:[[g.c,k.b,D.m,D.w,y.c,v.b,S.b,T.b,_.d,J]]}),b),tt=((d=function t(){c(this,t)}).\u0275mod=P.Lb({type:d}),d.\u0275inj=P.Kb({factory:function(t){return new(t||d)},imports:[[g.c,k.b,D.m,D.w,y.c,v.b,S.b,T.b,_.d,N,J,Z]]}),d),et=((u=function t(){c(this,t)}).\u0275mod=P.Lb({type:u}),u.\u0275inj=P.Kb({factory:function(t){return new(t||u)},imports:[[g.c,k.b,D.m,D.w,y.c,S.b,T.b,B.d,_.d,x.c,w.k,v.b,C.b,tt]]}),u),nt=a("Wp6s"),it=a("tyNb"),at=a("STbY"),rt=((h=function t(){c(this,t)}).\u0275mod=P.Lb({type:h}),h.\u0275inj=P.Kb({factory:function(t){return new(t||h)},imports:[[g.c,k.b,nt.g,v.b,at.b,it.f,S.b]]}),h),ot=a("iA2r"),ct=a("c3AT"),st=a("AytR");function lt(t,e){if(1&t&&(P.Tb(0,"div"),P.Dc(1),P.Sb()),2&t){var n=e.$implicit;P.Bb(1),P.Ec(n.name)}}var ut,dt=((ut=function(){function t(e){c(this,t),this.translateService=e,this.edit=new P.o,this.delete=new P.o}return o(t,[{key:"ngOnInit",value:function(){}},{key:"onEdit",value:function(){this.edit.emit(this.form)}},{key:"onDelete",value:function(){this.delete.emit(this.form)}},{key:"currentLang",get:function(){return this.translateService.currentLang?this.translateService.currentLang:this.translateService.defaultLang}},{key:"landscapePdfUrl",get:function(){return"".concat(st.a.API_URL,"/resources/project/").concat(this.project.id,"/data-source/").concat(this.form.id,".pdf?orientation=landscape&language=").concat(this.currentLang)}},{key:"portraitPdfUrl",get:function(){return"".concat(st.a.API_URL,"/resources/project/").concat(this.project.id,"/data-source/").concat(this.form.id,".pdf?orientation=portrait&language=").concat(this.currentLang)}}]),t}()).\u0275fac=function(t){return new(t||ut)(P.Nb(k.d))},ut.\u0275cmp=P.Hb({type:ut,selectors:[["app-data-source"]],inputs:{form:"form",project:"project"},outputs:{edit:"edit",delete:"delete"},decls:54,vars:37,consts:[[1,"card-header"],[1,"card-info"],[1,"card-info-title"],[1,"card-info-value"],[4,"ngFor","ngForOf"],["align","end",1,"mdm-button-group"],["mat-stroked-button","",1,"mdm-button","small-button",3,"click"],["mat-stroked-button","","mat-icon-button","",1,"mdm-button","small-button",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","target","_blank",3,"href"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(P.Tb(0,"mat-card"),P.Tb(1,"mat-card-header",0),P.Dc(2),P.Sb(),P.Tb(3,"mat-card-content"),P.Tb(4,"div",1),P.Tb(5,"b",2),P.Dc(6),P.fc(7,"translate"),P.Sb(),P.Tb(8,"div",3),P.Dc(9),P.fc(10,"date"),P.fc(11,"date"),P.Sb(),P.Sb(),P.Tb(12,"div",1),P.Tb(13,"b",2),P.Dc(14),P.fc(15,"translate"),P.Sb(),P.Tb(16,"div",3),P.Dc(17),P.fc(18,"translate"),P.Sb(),P.Sb(),P.Tb(19,"div",1),P.Tb(20,"b",2),P.Dc(21),P.fc(22,"translate"),P.Sb(),P.Tb(23,"div",3),P.Bc(24,lt,2,1,"div",4),P.Sb(),P.Sb(),P.Sb(),P.Tb(25,"mat-card-actions",5),P.Tb(26,"button",6),P.ac("click",(function(){return e.onEdit()})),P.Tb(27,"mat-icon"),P.Dc(28,"edit"),P.Sb(),P.Dc(29),P.fc(30,"translate"),P.Sb(),P.Tb(31,"button",7),P.Tb(32,"mat-icon"),P.Dc(33,"expand_more"),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(34,"mat-menu",null,8),P.Tb(36,"a",9),P.Tb(37,"mat-icon"),P.Dc(38,"insert_drive_file"),P.Sb(),P.Tb(39,"span"),P.Dc(40),P.fc(41,"translate"),P.Sb(),P.Sb(),P.Tb(42,"a",9),P.Tb(43,"mat-icon"),P.Dc(44,"note"),P.Sb(),P.Tb(45,"span"),P.Dc(46),P.fc(47,"translate"),P.Sb(),P.Sb(),P.Tb(48,"button",10),P.ac("click",(function(){return e.onDelete()})),P.Tb(49,"mat-icon"),P.Dc(50,"delete"),P.Sb(),P.Tb(51,"span"),P.Dc(52),P.fc(53,"translate"),P.Sb(),P.Sb(),P.Sb()),2&t){var n=P.qc(35);P.Bb(2),P.Ec(e.form.name),P.Bb(4),P.Ec(P.gc(7,15,"Date")),P.Bb(3),P.Gc("",P.hc(10,17,e.form.start,"mediumDate")," - ",P.hc(11,20,e.form.end,"mediumDate"),""),P.Bb(5),P.Ec(P.gc(15,23,"Periodicity")),P.Bb(3),P.Ec(P.gc(18,25,e.form.periodicityDisplay)),P.Bb(4),P.Ec(P.gc(22,27,"CollectionSites")),P.Bb(3),P.kc("ngForOf",e.form.entities),P.Bb(5),P.Ec(P.gc(30,29,"Edit")),P.Bb(2),P.kc("matMenuTriggerFor",n),P.Bb(5),P.kc("href",e.portraitPdfUrl,P.uc),P.Bb(4),P.Ec(P.gc(41,31,"DownloadPdfPortrait")),P.Bb(2),P.kc("href",e.landscapePdfUrl,P.uc),P.Bb(4),P.Ec(P.gc(47,33,"DownloadPdfLandscape")),P.Bb(6),P.Ec(P.gc(53,35,"Delete"))}},directives:[nt.a,nt.e,nt.d,g.k,nt.b,v.a,S.a,at.c,at.d,at.a],pipes:[k.c,g.e],styles:[".card-info[_ngcontent-%COMP%]{flex-direction:row}"]}),ut),bt=a("MfH7"),mt=function(){function t(){c(this,t)}return o(t,null,[{key:"areEquals",value:function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}}]),t}(),ft=a("IXMC"),pt=a("uu3u"),ht=a("2Vo4"),gt=a("pn5B"),vt=a("WsfP");function St(t,e){1&t&&P.Ob(0,"th",28)}function kt(t,e){1&t&&(P.Tb(0,"td",29),P.Tb(1,"mat-icon"),P.Dc(2,"unfold_more"),P.Sb(),P.Sb())}function Dt(t,e){1&t&&(P.Tb(0,"th",28),P.Dc(1),P.fc(2,"translate"),P.Sb()),2&t&&(P.Bb(1),P.Ec(P.gc(2,1,"Name")))}function yt(t,e){1&t&&(P.Tb(0,"td",30),P.Tb(1,"mat-form-field",5),P.Ob(2,"input",6),P.fc(3,"translate"),P.Sb(),P.Sb()),2&t&&(P.kc("formGroupName",e.index),P.Bb(2),P.lc("placeholder",P.gc(3,2,"Name")))}function Tt(t,e){1&t&&P.Ob(0,"th",28)}function Bt(t,e){if(1&t){var n=P.Ub();P.Tb(0,"td",31),P.Tb(1,"button",32),P.ac("click",(function(){P.sc(n);var t=e.index;return P.ec().onRemoveElement(t)})),P.Tb(2,"mat-icon"),P.Dc(3,"close"),P.Sb(),P.Sb(),P.Sb()}}function _t(t,e){if(1&t){var n=P.Ub();P.Tb(0,"td",33),P.Tb(1,"button",34),P.ac("click",(function(){return P.sc(n),P.ec().onAddNewElement()})),P.Tb(2,"mat-icon"),P.Dc(3,"add"),P.Sb(),P.Dc(4),P.fc(5,"translate"),P.Sb(),P.Sb()}if(2&t){var i=P.ec();P.Cb("colspan",i.elementsDisplayedColumns.length),P.Bb(4),P.Fc("",P.gc(5,2,"Add")," ")}}function wt(t,e){1&t&&P.Ob(0,"tr",35)}function xt(t,e){1&t&&P.Ob(0,"tr",36)}function Ct(t,e){1&t&&P.Ob(0,"tr",37)}function Ft(t,e){if(1&t&&(P.Tb(0,"mat-option",38),P.Dc(1),P.fc(2,"translate"),P.Sb()),2&t){var n=e.$implicit;P.kc("value",n.value),P.Bb(1),P.Fc("",P.gc(2,2,n.display)," ")}}function Ot(t,e){1&t&&P.Ob(0,"th",28)}function Et(t,e){1&t&&(P.Tb(0,"td",29),P.Tb(1,"mat-icon"),P.Dc(2,"unfold_more"),P.Sb(),P.Sb())}function Pt(t,e){1&t&&(P.Tb(0,"th",28),P.Dc(1),P.fc(2,"translate"),P.Sb()),2&t&&(P.Bb(1),P.Ec(P.gc(2,1,"Name")))}function Nt(t,e){1&t&&(P.Tb(0,"td",30),P.Tb(1,"mat-form-field",5),P.Ob(2,"input",6),P.fc(3,"translate"),P.Sb(),P.Sb()),2&t&&(P.kc("formGroupName",e.index),P.Bb(2),P.lc("placeholder",P.gc(3,2,"Name")))}function At(t,e){1&t&&(P.Tb(0,"th",28),P.Dc(1),P.fc(2,"translate"),P.Sb()),2&t&&(P.Bb(1),P.Ec(P.gc(2,1,"Members")))}function Rt(t,e){if(1&t&&(P.Tb(0,"mat-option",38),P.Dc(1),P.Sb()),2&t){var n=e.$implicit;P.kc("value",n),P.Bb(1),P.Fc("",n.name," ")}}function jt(t,e){if(1&t&&(P.Tb(0,"td",30),P.Tb(1,"mat-form-field",5),P.Tb(2,"mat-select",41),P.fc(3,"translate"),P.Bc(4,Rt,2,2,"mat-option",22),P.Sb(),P.Sb(),P.Sb()),2&t){var n=e.index,i=P.ec(2);P.kc("formGroupName",n),P.Bb(2),P.lc("placeholder",P.gc(3,3,"Members")),P.Bb(2),P.kc("ngForOf",i.elements.value)}}function Gt(t,e){1&t&&P.Ob(0,"th",28)}function It(t,e){if(1&t){var n=P.Ub();P.Tb(0,"td",31),P.Tb(1,"button",32),P.ac("click",(function(){P.sc(n);var t=e.index;return P.ec(2).onRemoveGroup(t)})),P.Tb(2,"mat-icon"),P.Dc(3,"close"),P.Sb(),P.Sb(),P.Sb()}}function Mt(t,e){if(1&t){var n=P.Ub();P.Tb(0,"td",33),P.Tb(1,"button",34),P.ac("click",(function(){return P.sc(n),P.ec(2).onAddNewGroup()})),P.Tb(2,"mat-icon"),P.Dc(3,"add"),P.Sb(),P.Dc(4),P.fc(5,"translate"),P.Sb(),P.Sb()}if(2&t){var i=P.ec(2);P.Cb("colspan",i.groupsDisplayedColumns.length),P.Bb(4),P.Fc("",P.gc(5,2,"Add")," ")}}function qt(t,e){1&t&&P.Ob(0,"tr",35)}function Lt(t,e){1&t&&P.Ob(0,"tr",36)}function zt(t,e){1&t&&P.Ob(0,"tr",37)}var Ht=function(){return["add"]};function Ut(t,e){if(1&t&&(P.Tb(0,"div",3),P.Ob(1,"div",4),P.Tb(2,"table",39),P.Rb(3,8),P.Bc(4,Ot,1,0,"th",9),P.Bc(5,Et,3,0,"td",10),P.Qb(),P.Rb(6,11),P.Bc(7,Pt,3,3,"th",9),P.Bc(8,Nt,4,4,"td",12),P.Qb(),P.Rb(9,40),P.Bc(10,At,3,3,"th",9),P.Bc(11,jt,5,5,"td",12),P.Qb(),P.Rb(12,13),P.Bc(13,Gt,1,0,"th",9),P.Bc(14,It,4,0,"td",14),P.Qb(),P.Rb(15,15),P.Bc(16,Mt,6,4,"td",16),P.Qb(),P.Bc(17,qt,1,0,"tr",17),P.Bc(18,Lt,1,0,"tr",18),P.Bc(19,zt,1,0,"tr",19),P.Sb(),P.Sb()),2&t){var n=P.ec();P.Bb(2),P.kc("dataSource",n.groupsDataSource),P.Bb(15),P.kc("matHeaderRowDef",n.groupsDisplayedColumns),P.Bb(1),P.kc("matRowDefColumns",n.groupsDisplayedColumns),P.Bb(1),P.kc("matFooterRowDef",P.nc(4,Ht))}}var Vt,$t=((Vt=function(){function t(e,n,i){c(this,t),this.fb=e,this.dialogRef=n,this.data=i,this.aggregations=[{value:"sum",display:"Enum.Aggregation.sum"},{value:"average",display:"Enum.Aggregation.average"},{value:"highest",display:"Enum.Aggregation.highest"},{value:"lowest",display:"Enum.Aggregation.lowest"}],this.elementsDisplayedColumns=["position","name","delete"],this.elementsDataSource=new ht.a([]),this.groupsDisplayedColumns=["position","name","members","delete"],this.groupsDataSource=new ht.a([]),this.elementsDataSource.next(this.elements.controls),this.groupsDataSource.next(this.groups.controls)}return o(t,[{key:"ngOnInit",value:function(){}},{key:"onAddNewElement",value:function(){this.elements.push(this.newElement()),this.elementsDataSource.next(this.elements.controls)}},{key:"onRemoveElement",value:function(t){this.elements.removeAt(t),this.elementsDataSource.next(this.elements.controls)}},{key:"newElement",value:function(){var t=new gt.a;return this.fb.group({id:[t.id],name:[t.name,D.x.required]})}},{key:"onAddNewGroup",value:function(){this.groups.push(this.newGroup()),this.groupsDataSource.next(this.groups.controls)}},{key:"onRemoveGroup",value:function(t){this.groups.removeAt(t),this.groupsDataSource.next(this.groups.controls)}},{key:"newGroup",value:function(){var t=new vt.a;return this.fb.group({id:[t.id],name:[t.name,D.x.required],members:[[]]})}},{key:"onSubmit",value:function(){this.dialogRef.close({save:!0,data:this.data})}},{key:"onDelete",value:function(){this.dialogRef.close({save:!1,data:this.data})}},{key:"elements",get:function(){return this.data.controls.elements}},{key:"groups",get:function(){return this.data.controls.groups}}]),t}()).\u0275fac=function(t){return new(t||Vt)(P.Nb(D.f),P.Nb(F.g),P.Nb(F.a))},Vt.\u0275cmp=P.Hb({type:Vt,selectors:[["app-partition-modal"]],decls:85,vars:53,consts:[["mat-icon-button","","mat-dialog-close","",1,"dialog-close"],["mat-dialog-title",""],[1,"mdm-dialog",3,"formGroup"],[1,"mdm-form-group"],[1,"mdm-form-label"],["appearance","outline",1,"mdm-form-field"],["matInput","","formControlName","name",3,"placeholder"],["mat-table","","formArrayName","elements",1,"mdm-table",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","id","position",4,"matCellDef"],["matColumnDef","name"],["mat-cell","","id","name",3,"formGroupName",4,"matCellDef"],["matColumnDef","delete"],["mat-cell","","id","delete",4,"matCellDef"],["matColumnDef","add"],["mat-footer-cell","","class","add-row",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[1,"hint"],["formControlName","aggregation",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["formControlName","useGroups",1,"mdm-form-field"],["class","mdm-form-group",4,"ngIf"],["align","end"],["mat-stroked-button","",1,"mdm-button",3,"click"],["mat-stroked-button","",1,"mdm-button"],["mat-header-cell",""],["mat-cell","","id","position"],["mat-cell","","id","name",3,"formGroupName"],["mat-cell","","id","delete"],["mat-icon-button","","color","warn",3,"click"],["mat-footer-cell","",1,"add-row"],["mat-stroked-button","",1,"mdm-button","small-button",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[3,"value"],["mat-table","","formArrayName","groups",1,"mdm-table",3,"dataSource"],["matColumnDef","members"],["formControlName","members","multiple","",3,"placeholder"]],template:function(t,e){1&t&&(P.Tb(0,"button",0),P.Tb(1,"mat-icon"),P.Dc(2,"close"),P.Sb(),P.Sb(),P.Tb(3,"h2",1),P.Dc(4),P.fc(5,"translate"),P.Sb(),P.Tb(6,"mat-dialog-content",2),P.Tb(7,"div",3),P.Tb(8,"div",4),P.Dc(9),P.fc(10,"translate"),P.Sb(),P.Tb(11,"mat-form-field",5),P.Ob(12,"input",6),P.fc(13,"translate"),P.Tb(14,"mat-hint"),P.Tb(15,"mat-icon"),P.Dc(16,"info"),P.Sb(),P.Dc(17),P.fc(18,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(19,"div",3),P.Tb(20,"div",4),P.Dc(21),P.fc(22,"translate"),P.Sb(),P.Tb(23,"table",7),P.Rb(24,8),P.Bc(25,St,1,0,"th",9),P.Bc(26,kt,3,0,"td",10),P.Qb(),P.Rb(27,11),P.Bc(28,Dt,3,3,"th",9),P.Bc(29,yt,4,4,"td",12),P.Qb(),P.Rb(30,13),P.Bc(31,Tt,1,0,"th",9),P.Bc(32,Bt,4,0,"td",14),P.Qb(),P.Rb(33,15),P.Bc(34,_t,6,4,"td",16),P.Qb(),P.Bc(35,wt,1,0,"tr",17),P.Bc(36,xt,1,0,"tr",18),P.Bc(37,Ct,1,0,"tr",19),P.Sb(),P.Tb(38,"mat-hint",20),P.Tb(39,"mat-icon"),P.Dc(40,"info"),P.Sb(),P.Dc(41),P.fc(42,"translate"),P.Sb(),P.Sb(),P.Tb(43,"div",3),P.Tb(44,"div",4),P.Dc(45),P.fc(46,"translate"),P.Sb(),P.Tb(47,"mat-form-field",5),P.Tb(48,"mat-select",21),P.fc(49,"translate"),P.Bc(50,Ft,3,4,"mat-option",22),P.Sb(),P.Tb(51,"mat-hint"),P.Tb(52,"mat-icon"),P.Dc(53,"info"),P.Sb(),P.Dc(54),P.fc(55,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(56,"div",3),P.Tb(57,"div",4),P.Dc(58),P.fc(59,"translate"),P.Sb(),P.Tb(60,"mat-checkbox",23),P.Dc(61),P.fc(62,"translate"),P.Sb(),P.Tb(63,"mat-hint",20),P.Tb(64,"mat-icon"),P.Dc(65,"info"),P.Sb(),P.Dc(66),P.fc(67,"translate"),P.Sb(),P.Sb(),P.Bc(68,Ut,20,5,"div",24),P.Sb(),P.Tb(69,"mat-dialog-actions",25),P.Tb(70,"button",26),P.ac("click",(function(){return e.onSubmit()})),P.Tb(71,"mat-icon"),P.Dc(72,"save"),P.Sb(),P.Dc(73),P.fc(74,"translate"),P.Sb(),P.Tb(75,"button",27),P.Tb(76,"mat-icon"),P.Dc(77,"undo"),P.Sb(),P.Dc(78),P.fc(79,"translate"),P.Sb(),P.Tb(80,"button",26),P.ac("click",(function(){return e.onDelete()})),P.Tb(81,"mat-icon"),P.Dc(82,"delete"),P.Sb(),P.Dc(83),P.fc(84,"translate"),P.Sb(),P.Sb()),2&t&&(P.Bb(4),P.Ec(P.gc(5,22,"PartitionEdition")),P.Bb(2),P.kc("formGroup",e.data),P.Bb(3),P.Ec(P.gc(10,24,"Name")),P.Bb(3),P.lc("placeholder",P.gc(13,26,"Disaggregation.AddNamePlaceholder")),P.Bb(5),P.Fc("",P.gc(18,28,"Disaggregation.AddNameHint")," "),P.Bb(4),P.Ec(P.gc(22,30,"Elements")),P.Bb(2),P.kc("dataSource",e.elementsDataSource),P.Bb(12),P.kc("matHeaderRowDef",e.elementsDisplayedColumns),P.Bb(1),P.kc("matRowDefColumns",e.elementsDisplayedColumns),P.Bb(1),P.kc("matFooterRowDef",P.nc(52,Ht)),P.Bb(4),P.Fc("",P.gc(42,32,"Disaggregation.ElementsHint")," "),P.Bb(4),P.Ec(P.gc(46,34,"Aggregation")),P.Bb(3),P.lc("placeholder",P.gc(49,36,"MissingComputation")),P.Bb(2),P.kc("ngForOf",e.aggregations),P.Bb(4),P.Fc("",P.gc(55,38,"Disaggregation.AggregationHint")," "),P.Bb(4),P.Ec(P.gc(59,40,"Groups")),P.Bb(3),P.Ec(P.gc(62,42,"UseGroups")),P.Bb(5),P.Fc("",P.gc(67,44,"Disaggregation.GroupsHint")," "),P.Bb(2),P.kc("ngIf",e.data.value.useGroups),P.Bb(5),P.Ec(P.gc(74,46,"ApplyChanges")),P.Bb(5),P.Ec(P.gc(79,48,"ResetChanges")),P.Bb(5),P.Ec(P.gc(84,50,"Delete")))},directives:[v.a,F.d,S.a,F.h,F.e,D.s,D.k,_.b,y.b,D.c,D.r,D.i,_.e,O.n,D.e,O.c,O.i,O.b,O.e,O.k,O.m,O.g,T.a,g.k,E.a,g.l,F.c,O.h,O.a,D.l,O.d,O.j,O.l,O.f,w.m],pipes:[k.c],styles:[".mat-footer-cell[_ngcontent-%COMP%]{text-align:center}.hint[_ngcontent-%COMP%]{font-size:75%;padding:0 1em}.hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:inherit;width:1em;height:1em}"]}),Vt);function Qt(t,e){1&t&&P.Ob(0,"td",12)}function Kt(t,e){if(1&t&&(P.Tb(0,"tr"),P.Bc(1,Qt,1,0,"td",10),P.Tb(2,"td",11),P.Dc(3),P.fc(4,"translate"),P.Sb(),P.Sb()),2&t){var n=P.ec().index,i=P.ec(2);P.Bb(1),P.kc("ngForOf",i.getNumber(n)),P.Bb(2),P.Ec(P.gc(4,2,"Disaggregation.Title"))}}function Xt(t,e){1&t&&(P.Tb(0,"td",11),P.Dc(1),P.fc(2,"translate"),P.Sb()),2&t&&(P.Bb(1),P.Fc(" ",P.gc(2,1,"Disaggregation.Title")," "))}function Yt(t,e){if(1&t&&(P.Tb(0,"td"),P.Tb(1,"table"),P.Bc(2,Kt,5,4,"tr",5),P.Tb(3,"tr"),P.Bc(4,Xt,3,3,"td",6),P.Tb(5,"td",7),P.Dc(6),P.fc(7,"translate"),P.Sb(),P.Sb(),P.Tb(8,"tr"),P.Tb(9,"td",8),P.Ob(10,"mat-radio-button",9),P.Sb(),P.Sb(),P.Sb(),P.Sb()),2&t){var n=e.index,i=P.ec(2);P.Bb(2),P.kc("ngForOf",i.getNumber(i.partitions.length-n)),P.Bb(2),P.kc("ngForOf",i.partitions.slice(i.partitions.length-n)),P.Bb(2),P.Ec(P.gc(7,6,"Disaggregation.Data")),P.Bb(3),P.Cb("colspan",i.toNumber(n+1)),P.Bb(1),P.lc("value",n),P.kc("checked",i.isCurrent(n))}}function Wt(t,e){if(1&t&&(P.Tb(0,"table",4),P.Tb(1,"tr"),P.Bc(2,Yt,11,8,"td",5),P.Sb(),P.Sb()),2&t){var n=P.ec();P.Bb(2),P.kc("ngForOf",n.getNumber(n.partitions.length+1))}}function Jt(t,e){1&t&&P.Ob(0,"td",12)}function Zt(t,e){if(1&t&&(P.Tb(0,"mat-option",16),P.Dc(1),P.Sb()),2&t){var n=e.$implicit;P.kc("value",n.id),P.Bb(1),P.Gc(" ",n.name," (",n.elements.length,") ")}}function te(t,e){if(1&t){var n=P.Ub();P.Tb(0,"tr"),P.Bc(1,Jt,1,0,"td",10),P.Tb(2,"td",11),P.Tb(3,"mat-form-field",13),P.Tb(4,"mat-select",14),P.ac("valueChange",(function(t){P.sc(n);var i=e.index,a=P.ec(3);return a.partitions[i+a.toNumber(a.tableStructure)].id=t}))("selectionChange",(function(t){P.sc(n);var i=e.index,a=P.ec(3);return a.reorderPartitions(t.value,i+a.toNumber(a.tableStructure))})),P.Bc(5,Zt,2,3,"mat-option",15),P.Sb(),P.Sb(),P.Sb(),P.Sb()}if(2&t){var i=e.index,a=P.ec(3);P.Bb(1),P.kc("ngForOf",a.getNumber(a.tableStructure)),P.Bb(3),P.kc("value",a.partitions[i+a.toNumber(a.tableStructure)].id),P.Bb(1),P.kc("ngForOf",a.partitions)}}function ee(t,e){if(1&t&&(P.Tb(0,"mat-option",16),P.Dc(1),P.Sb()),2&t){var n=e.$implicit;P.kc("value",n.id),P.Bb(1),P.Gc(" ",n.name," (",n.elements.length,") ")}}function ne(t,e){if(1&t){var n=P.Ub();P.Tb(0,"td",11),P.Tb(1,"mat-form-field",13),P.Tb(2,"mat-select",14),P.ac("valueChange",(function(t){P.sc(n);var i=e.index;return P.ec(3).partitions[i].id=t}))("selectionChange",(function(t){P.sc(n);var i=e.index;return P.ec(3).reorderPartitions(t.value,i)})),P.Bc(3,ee,2,3,"mat-option",15),P.Sb(),P.Sb(),P.Sb()}if(2&t){var i=e.index,a=P.ec(3);P.Bb(2),P.kc("value",a.partitions[i].id),P.Bb(1),P.kc("ngForOf",a.partitions)}}function ie(t,e){if(1&t&&(P.Tb(0,"table",4),P.Bc(1,te,6,3,"tr",5),P.Tb(2,"tr"),P.Bc(3,ne,4,2,"td",6),P.Tb(4,"td",7),P.Dc(5),P.fc(6,"translate"),P.Sb(),P.Sb(),P.Sb()),2&t){var n=P.ec(2);P.Bb(1),P.kc("ngForOf",n.partitions.slice(n.tableStructure)),P.Bb(2),P.kc("ngForOf",n.partitions.slice(0,n.tableStructure)),P.Bb(2),P.Hc("",P.gc(6,5,"Disaggregation.Data")," (",n.getLength(n.partitions.slice(n.partitions.length-n.tableStructure))," x ",n.getLength(n.partitions.slice(0,n.partitions.length-n.tableStructure)),") ")}}function ae(t,e){if(1&t&&(P.Tb(0,"div",0),P.Bc(1,ie,7,7,"table",2),P.Sb()),2&t){var n=P.ec();P.kc("formGroup",n.elementForm),P.Bb(1),P.kc("ngIf",!n.visualize)}}var re,oe=((re=function(){function t(e){c(this,t),this.projectService=e,this.visualize=!0,this.chosenStructure=new P.o,this.floatLabelControl=new D.g}return o(t,[{key:"getNumber",value:function(t){if(t)return new Array(this.toNumber(t))}},{key:"getIndex",value:function(t){return this.toNumber(this.partitions.length-this.toNumber(this.tableStructure)+t)}},{key:"getLength",value:function(t){var e=1;return t.forEach((function(t){t.elements.length>0&&(e*=t.elements.length)})),e}},{key:"ngOnInit",value:function(){var t=this;this.projectService.openedProject.subscribe((function(e){t.project=e,t.project.forms.filter((function(e){return e.elements.filter((function(e){e.id===t.elementForm.value.id&&(t.partitions=e.partitions,t.savedStructure=e.distribution?e.distribution:0)}))}))}))}},{key:"reorderPartitions",value:function(t,e){var n=this.elementForm.value.partitions.findIndex((function(e){return e.id===t})),i=this.elementForm.get("partitions").get(e.toString());this.elementForm.get("partitions").setControl(e,this.elementForm.get("partitions").get(n.toString())),this.elementForm.get("partitions").setControl(n,i)}},{key:"selected",value:function(t){this.chosenStructure.emit(t.value),this.elementForm.value.distribution=+t.value}},{key:"toNumber",value:function(t){return parseInt(t,10)}},{key:"isCurrent",value:function(t){return t===this.savedStructure}}]),t}()).\u0275fac=function(t){return new(t||re)(P.Nb(ct.a))},re.\u0275cmp=P.Hb({type:re,selectors:[["app-table-structure"]],inputs:{elementForm:"elementForm",tableStructure:"tableStructure",visualize:"visualize"},outputs:{chosenStructure:"chosenStructure"},decls:4,vars:4,consts:[[3,"formGroup"],["formControlName","distribution",3,"formControl","change"],["class","display",4,"ngIf"],[3,"formGroup",4,"ngIf"],[1,"display"],[4,"ngFor","ngForOf"],["class","title",4,"ngFor","ngForOf"],[1,"data"],[1,"radioButton"],[3,"value","checked"],["class","empty",4,"ngFor","ngForOf"],[1,"title"],[1,"empty"],[1,"auto-width"],["formArrayName","partitions",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(P.Tb(0,"div",0),P.Tb(1,"mat-radio-group",1),P.ac("change",(function(t){return e.selected(t)})),P.Bc(2,Wt,3,1,"table",2),P.Sb(),P.Sb(),P.Bc(3,ae,2,2,"div",3)),2&t&&(P.kc("formGroup",e.elementForm),P.Bb(1),P.kc("formControl",e.floatLabelControl),P.Bb(1),P.kc("ngIf",e.visualize),P.Bb(1),P.kc("ngIf",e.partitions))},directives:[D.s,D.k,Q,D.r,D.i,D.h,g.l,g.k,W,_.b,T.a,D.e,w.m],pipes:[k.c],styles:[".collapse[_ngcontent-%COMP%]{border-collapse:collapse!important}.title[_ngcontent-%COMP%]{border:1px solid #c4c4c4;border-collapse:collapse}.empty[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{background-color:#e1e1e1;font-weight:520;padding:5px}.empty[_ngcontent-%COMP%]{color:#e1e1e1}.data[_ngcontent-%COMP%], .empty[_ngcontent-%COMP%]{border:1px solid #c4c4c4;border-collapse:collapse!important}.data[_ngcontent-%COMP%]{background-color:#fff;padding:5px}.radioButton[_ngcontent-%COMP%]{border:none;font-size:0}.display[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border:1px solid #c4c4c4;border-radius:3px;background-color:#fafafa;padding:5px;text-align:center}.display[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-collapse:collapse}  .auto-width .mat-form-field{width:auto!important}  .auto-width .mat-option,   .auto-width .mat-select-value{max-width:100%;width:auto}"]}),re);function ce(t,e){if(1&t&&(P.Tb(0,"mat-option",17),P.Dc(1),P.fc(2,"translate"),P.Sb()),2&t){var n=e.$implicit;P.kc("value",n.value),P.Bb(1),P.Fc("",P.gc(2,2,n.display)," ")}}function se(t,e){if(1&t&&(P.Tb(0,"mat-option",17),P.Dc(1),P.fc(2,"translate"),P.Sb()),2&t){var n=e.$implicit;P.kc("value",n.value),P.Bb(1),P.Fc("",P.gc(2,2,n.display)," ")}}function le(t,e){if(1&t){var n=P.Ub();P.Rb(0),P.Tb(1,"button",11),P.ac("click",(function(){P.sc(n);var t=e.$implicit;return P.ec().openDialog(t)})),P.Tb(2,"mat-icon"),P.Dc(3,"create"),P.Sb(),P.Dc(4),P.Sb(),P.Qb()}if(2&t){var i=e.$implicit;P.Bb(4),P.Ec(i.value.name)}}var ue,de=function(t){return{name:t}},be=((ue=function(){function t(e,n){c(this,t),this.dialog=e,this.fb=n,this.dataSourceName="",this.aggregations=[{value:"sum",display:"Enum.Aggregation.sum"},{value:"average",display:"Enum.Aggregation.average"},{value:"highest",display:"Enum.Aggregation.highest"},{value:"lowest",display:"Enum.Aggregation.lowest"},{value:"none",display:"Enum.Aggregation.none"}]}return o(t,[{key:"receiveStructure",value:function(t){this.chosenStructure=t}},{key:"ngOnInit",value:function(){this.chosenStructure=this.elementForm.value.distribution,this.elementForm.valueChanges.subscribe((function(t){}))}},{key:"onAddNewPartition",value:function(){var t=this.newPartition();this.openDialog(t)}},{key:"onRemovePartition",value:function(t){this.partitions.removeAt(t)}},{key:"newPartition",value:function(){var t=new pt.a;return this.fb.group({id:[t.id],name:[t.name,D.x.required],aggregation:[t.aggregation,D.x.required],elements:this.fb.array([]),useGroups:[t.useGroups],groups:this.fb.array([])})}},{key:"openDialog",value:function(t){var e=this;this.dialog.open($t,{data:t}).afterClosed().subscribe((function(t){if(t){var n=e.partitions.value.map((function(t){return t.id})).indexOf(t.data.value.id);t.save?n>-1?e.partitions.setControl(n,t.data):e.partitions.push(t.data):n>-1&&e.onRemovePartition(n)}}))}},{key:"partitions",get:function(){return this.elementForm.controls.partitions}}]),t}()).\u0275fac=function(t){return new(t||ue)(P.Nb(F.b),P.Nb(D.f))},ue.\u0275cmp=P.Hb({type:ue,selectors:[["app-form-element-edit"]],inputs:{elementForm:"elementForm",dataSourceName:"dataSourceName"},decls:81,vars:69,consts:[[3,"formGroup"],[1,"mdm-form-group"],[1,"mdm-form-label"],["appearance","outline",1,"mdm-form-field"],["matInput","","formControlName","name",3,"placeholder"],["formControlName","geoAgg",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["formControlName","timeAgg",3,"placeholder"],["formArrayName","partitions",1,"partitions-list"],[1,"partitions-buttons"],[4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mdm-button",3,"click"],[1,"hint"],[1,"partitions-list"],[3,"visualize","elementForm","chosenStructure"],["table","",1,"display"],[3,"visualize","elementForm","tableStructure"],[3,"value"]],template:function(t,e){1&t&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Tb(2,"div",2),P.Dc(3),P.fc(4,"translate"),P.Sb(),P.Tb(5,"mat-form-field",3),P.Ob(6,"input",4),P.fc(7,"translate"),P.Tb(8,"mat-hint"),P.Tb(9,"mat-icon"),P.Dc(10,"info"),P.Sb(),P.Dc(11),P.fc(12,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(13,"div",1),P.Tb(14,"div",2),P.Dc(15),P.fc(16,"translate"),P.Sb(),P.Tb(17,"mat-form-field",3),P.Tb(18,"mat-select",5),P.fc(19,"translate"),P.Bc(20,ce,3,4,"mat-option",6),P.Sb(),P.Tb(21,"mat-hint"),P.Tb(22,"mat-icon"),P.Dc(23,"info"),P.Sb(),P.Dc(24),P.fc(25,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(26,"div",1),P.Tb(27,"div",2),P.Dc(28),P.fc(29,"translate"),P.Sb(),P.Tb(30,"mat-form-field",3),P.Tb(31,"mat-select",7),P.fc(32,"translate"),P.Bc(33,se,3,4,"mat-option",6),P.Sb(),P.Tb(34,"mat-hint"),P.Tb(35,"mat-icon"),P.Dc(36,"info"),P.Sb(),P.Dc(37),P.fc(38,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(39,"div",1),P.Tb(40,"div",2),P.Dc(41),P.fc(42,"translate"),P.Sb(),P.Tb(43,"div",8),P.Tb(44,"div",9),P.Bc(45,le,5,1,"ng-container",10),P.Sb(),P.Tb(46,"button",11),P.ac("click",(function(){return e.onAddNewPartition()})),P.Tb(47,"mat-icon"),P.Dc(48,"add"),P.Sb(),P.Dc(49),P.fc(50,"translate"),P.Sb(),P.Tb(51,"div",12),P.Tb(52,"mat-hint"),P.Tb(53,"mat-icon"),P.Dc(54,"info"),P.Sb(),P.Dc(55),P.fc(56,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(57,"div",1),P.Tb(58,"div",2),P.Dc(59),P.fc(60,"translate"),P.Sb(),P.Tb(61,"div",13),P.Tb(62,"app-table-structure",14),P.ac("chosenStructure",(function(t){return e.receiveStructure(t)})),P.Sb(),P.Tb(63,"mat-hint",12),P.Tb(64,"mat-icon"),P.Dc(65,"info"),P.Sb(),P.Dc(66),P.fc(67,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(68,"div",1),P.Tb(69,"div",2),P.Dc(70),P.fc(71,"translate"),P.Sb(),P.Tb(72,"div",13),P.Tb(73,"table",15),P.Tb(74,"td"),P.Ob(75,"app-table-structure",16),P.Sb(),P.Sb(),P.Tb(76,"mat-hint",12),P.Tb(77,"mat-icon"),P.Dc(78,"info"),P.Sb(),P.Dc(79),P.fc(80,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Sb()),2&t&&(P.kc("formGroup",e.elementForm),P.Bb(3),P.Ec(P.gc(4,25,"AddVariableName")),P.Bb(3),P.lc("placeholder",P.gc(7,27,"AddVariableNamePlaceholder")),P.Bb(5),P.Fc("",P.hc(12,29,"AddVariableNameHint",P.oc(61,de,e.dataSourceName?e.dataSourceName:"..."))," "),P.Bb(4),P.Ec(P.gc(16,32,"GeoAggregation")),P.Bb(3),P.lc("placeholder",P.gc(19,34,"MissingComputation")),P.Bb(2),P.kc("ngForOf",e.aggregations),P.Bb(4),P.Fc("",P.hc(25,36,"GeoAggregationHint",P.oc(63,de,e.elementForm.value.name?e.elementForm.value.name:"..."))," "),P.Bb(4),P.Ec(P.gc(29,39,"TimeAggregation")),P.Bb(3),P.lc("placeholder",P.gc(32,41,"MissingComputation")),P.Bb(2),P.kc("ngForOf",e.aggregations),P.Bb(4),P.Fc("",P.hc(38,43,"TimeAggregationHint",P.oc(65,de,e.elementForm.value.name?e.elementForm.value.name:"..."))," "),P.Bb(4),P.Ec(P.gc(42,46,"Partitions")),P.Bb(4),P.kc("ngForOf",e.partitions.controls),P.Bb(4),P.Ec(P.gc(50,48,"AddPartition")),P.Bb(6),P.Fc("",P.hc(56,50,"PartitionsHint",P.oc(67,de,e.elementForm.value.name?e.elementForm.value.name:"..."))," "),P.Bb(4),P.Ec(P.gc(60,53,"Disaggregation.DisplayTitle")),P.Bb(3),P.kc("visualize",!0)("elementForm",e.elementForm),P.Bb(4),P.Fc("",P.gc(67,55,"Disaggregation.DisplayHint")," "),P.Bb(4),P.Ec(P.gc(71,57,"Disaggregation.OrderTitle")),P.Bb(5),P.kc("visualize",!1)("elementForm",e.elementForm)("tableStructure",e.chosenStructure),P.Bb(4),P.Fc("",P.gc(80,59,"Disaggregation.OrderHint")," "))},directives:[D.s,D.k,_.b,y.b,D.c,D.r,D.i,_.e,S.a,T.a,g.k,D.e,v.a,oe,w.m],pipes:[k.c],styles:[".partitions-list[_ngcontent-%COMP%]{flex:1;width:100%}.partitions-list[_ngcontent-%COMP%]   .partitions-buttons[_ngcontent-%COMP%]{margin:0 -4px}.partitions-list[_ngcontent-%COMP%]   .partitions-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:4px}.hint[_ngcontent-%COMP%]{font-size:75%;padding:1em}.hint[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:inherit;width:1em;height:1em}.display[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #c4c4c4;border-radius:3px;background-color:#fafafa;border-spacing:4em!important;padding:5px;text-align:center}.radioButton[_ngcontent-%COMP%]{border:none;justify-content:center;text-align:center}"]}),ue);function me(t,e){if(1&t){var n=P.Ub();P.Tb(0,"mat-chip",20),P.ac("removed",(function(){P.sc(n);var t=e.$implicit;return P.ec().onEntityRemoved(t)})),P.Dc(1),P.Tb(2,"mat-icon",21),P.Dc(3,"cancel"),P.Sb(),P.Sb()}if(2&t){var i=e.$implicit;P.kc("removable",!0),P.Bb(1),P.Fc(" ",i.name," ")}}function fe(t,e){if(1&t&&(P.Tb(0,"mat-option",22),P.Dc(1),P.Sb()),2&t){var n=e.$implicit;P.kc("value",n),P.Bb(1),P.Fc("",n.name," ")}}function pe(t,e){if(1&t&&(P.Tb(0,"mat-option",22),P.Dc(1),P.fc(2,"translate"),P.Sb()),2&t){var n=e.$implicit;P.kc("value",n.value),P.Bb(1),P.Fc("",P.gc(2,2,n.display)," ")}}function he(t,e){if(1&t){var n=P.Ub();P.Rb(0),P.Tb(1,"mat-expansion-panel",23),P.Tb(2,"mat-expansion-panel-header"),P.Tb(3,"mat-panel-title"),P.Dc(4),P.Sb(),P.Tb(5,"mat-panel-description"),P.Tb(6,"button",19),P.ac("click",(function(){P.sc(n);var t=e.index;return P.ec().onRemoveElement(t)})),P.Tb(7,"mat-icon"),P.Dc(8,"delete"),P.Sb(),P.Dc(9),P.fc(10,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Ob(11,"app-form-element-edit",24),P.Sb(),P.Qb()}if(2&t){var i=e.$implicit,a=e.index,r=P.ec();P.Bb(1),P.kc("formGroupName",a),P.Bb(3),P.Gc("Variable ",a+1,": ",i.value.name,""),P.Bb(5),P.Ec(P.gc(10,6,"RemoveVariable")),P.Bb(2),P.kc("elementForm",i)("dataSourceName",r.dataSourceForm.value.name)}}var ge,ve=((ge=function(){function t(e){c(this,t),this.fb=e,this.changedStartDate=!1,this.changedEndDate=!1,this.edit=new P.o,this.periodicities=[]}return o(t,[{key:"ngOnInit",value:function(){this.setForm();for(var t=0,e=Object.values(ft.a);t<e.length;t++){var n=e[t];this.periodicities.push({value:n,display:"Enum.Periodicity."+n})}}},{key:"ngOnChanges",value:function(){this.setForm()}},{key:"setForm",value:function(){var t=this;this.dataSourceForm=this.fb.group({id:[this.form.id],name:[this.form.name,D.x.required],entities:[this.entities.filter((function(e){return t.form.entities.map((function(t){return t.id})).includes(e.id)})),D.x.required],periodicity:[this.form.periodicity,D.x.required],start:[this.form.start,D.x.required],end:[this.form.end,D.x.required],elements:this.fb.array(this.form.elements.map((function(e){return t.newElement(e)})))}),this.dataSourceForm.valueChanges.subscribe((function(e){t.changedStartDate=!mt.areEquals(new Date(e.start),new Date(t.project.start)),t.changedEndDate=!mt.areEquals(new Date(e.end),new Date(t.project.end)),t.edit.emit(t.form.deserialize(e))})),this.form.start&&(this.changedStartDate=!mt.areEquals(new Date(this.form.start),new Date(this.project.start))),this.form.end&&(this.changedEndDate=!mt.areEquals(new Date(this.form.end),new Date(this.project.end)))}},{key:"onEntityRemoved",value:function(t){this.dataSourceForm.controls.entities.setValue(this.dataSourceForm.controls.entities.value.filter((function(e){return e.id!==t.id})))}},{key:"onAddNewElement",value:function(){this.elements.push(this.newElement())}},{key:"onRemoveElement",value:function(t){this.elements.removeAt(t)}},{key:"newElement",value:function(t){var e=this;return t||(t=new bt.a),this.fb.group({id:[t.id],name:[t.name,D.x.required],partitions:this.fb.array(t.partitions.map((function(t){return e.newPartition(t)}))),distribution:[t.distribution],geoAgg:[t.geoAgg],timeAgg:[t.timeAgg]})}},{key:"newPartition",value:function(t){var e=this,n=this.fb.group({id:[t.id],name:[t.name,D.x.required],aggregation:[t.aggregation],elements:this.fb.array(t.elements.map((function(t){return e.newPartitionElement(t)}))),useGroups:[t.useGroups]}),i=n.controls.elements;return n.addControl("groups",this.fb.array(t.useGroups?t.groups.map((function(t){return e.newPartitionGroup(t,i)})):[])),n}},{key:"newPartitionElement",value:function(t){return this.fb.group({id:[t.id],name:[t.name,D.x.required]})}},{key:"newPartitionGroup",value:function(t,e){return this.fb.group({id:[t.id],name:[t.name,D.x.required],members:[e.value.filter((function(e){return t.members.map((function(t){return t.id})).includes(e.id)}))]})}},{key:"selectedEntities",get:function(){return this.dataSourceForm.controls.entities.value}},{key:"elements",get:function(){return this.dataSourceForm.controls.elements}}]),t}()).\u0275fac=function(t){return new(t||ge)(P.Nb(D.f))},ge.\u0275cmp=P.Hb({type:ge,selectors:[["app-data-source-edit"]],inputs:{entities:"entities",form:"form",project:"project"},outputs:{edit:"edit"},features:[P.zb],decls:96,vars:74,consts:[[1,"mdm-section"],[1,"mdm-title"],[1,"mdm-form",3,"formGroup"],[1,"mdm-form-group"],[1,"mdm-form-label"],["appearance","outline",1,"mdm-form-field"],["matInput","","formControlName","name",3,"placeholder"],["formControlName","entities","multiple","",3,"placeholder"],[3,"removable","removed",4,"ngFor","ngForOf"],[3,"value",4,"ngFor","ngForOf"],["formControlName","periodicity",3,"placeholder"],["matInput","","formControlName","start",3,"matDatepicker","placeholder"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","formControlName","end",3,"matDatepicker","placeholder"],["endPicker",""],[3,"formGroup"],["formArrayName","elements"],[4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mdm-button",3,"click"],[3,"removable","removed"],["matChipRemove",""],[3,"value"],[3,"formGroupName"],[3,"elementForm","dataSourceName"]],template:function(t,e){if(1&t&&(P.Tb(0,"div",0),P.Tb(1,"div",1),P.Dc(2),P.fc(3,"translate"),P.Sb(),P.Tb(4,"div",2),P.Tb(5,"div",3),P.Tb(6,"div",4),P.Dc(7),P.fc(8,"translate"),P.Sb(),P.Tb(9,"mat-form-field",5),P.Ob(10,"input",6),P.fc(11,"translate"),P.Tb(12,"mat-hint"),P.Tb(13,"mat-icon"),P.Dc(14,"info"),P.Sb(),P.Dc(15),P.fc(16,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(17,"div",3),P.Tb(18,"div",4),P.Dc(19),P.fc(20,"translate"),P.Sb(),P.Tb(21,"mat-form-field",5),P.Tb(22,"mat-select",7),P.fc(23,"translate"),P.Tb(24,"mat-select-trigger"),P.Tb(25,"mat-chip-list"),P.Bc(26,me,4,2,"mat-chip",8),P.Sb(),P.Sb(),P.Bc(27,fe,2,2,"mat-option",9),P.Sb(),P.Tb(28,"mat-hint"),P.Tb(29,"mat-icon"),P.Dc(30,"info"),P.Sb(),P.Dc(31),P.fc(32,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(33,"div",3),P.Tb(34,"div",4),P.Dc(35),P.fc(36,"translate"),P.Sb(),P.Tb(37,"mat-form-field",5),P.Tb(38,"mat-select",10),P.fc(39,"translate"),P.Bc(40,pe,3,4,"mat-option",9),P.Sb(),P.Tb(41,"mat-hint"),P.Tb(42,"mat-icon"),P.Dc(43,"info"),P.Sb(),P.Dc(44),P.fc(45,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(46,"div",3),P.Tb(47,"div",4),P.Dc(48),P.fc(49,"translate"),P.Sb(),P.Tb(50,"mat-form-field",5),P.Tb(51,"mat-label"),P.Dc(52),P.fc(53,"translate"),P.fc(54,"translate"),P.Sb(),P.Ob(55,"input",11),P.fc(56,"translate"),P.Ob(57,"mat-datepicker-toggle",12),P.Ob(58,"mat-datepicker",null,13),P.Tb(60,"mat-hint"),P.Tb(61,"mat-icon"),P.Dc(62,"info"),P.Sb(),P.Dc(63),P.fc(64,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Tb(65,"div",3),P.Tb(66,"div",4),P.Dc(67),P.fc(68,"translate"),P.Sb(),P.Tb(69,"mat-form-field",5),P.Tb(70,"mat-label"),P.Dc(71),P.fc(72,"translate"),P.fc(73,"translate"),P.Sb(),P.Ob(74,"input",14),P.fc(75,"translate"),P.Ob(76,"mat-datepicker-toggle",12),P.Ob(77,"mat-datepicker",null,15),P.Tb(79,"mat-hint"),P.Tb(80,"mat-icon"),P.Dc(81,"info"),P.Sb(),P.Dc(82),P.fc(83,"translate"),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Sb(),P.Tb(84,"div",0),P.Tb(85,"div",1),P.Dc(86),P.fc(87,"translate"),P.Sb(),P.Tb(88,"div",16),P.Tb(89,"mat-accordion",17),P.Bc(90,he,12,8,"ng-container",18),P.Sb(),P.Sb(),P.Sb(),P.Tb(91,"button",19),P.ac("click",(function(){return e.onAddNewElement()})),P.Tb(92,"mat-icon"),P.Dc(93,"add"),P.Sb(),P.Dc(94),P.fc(95,"translate"),P.Sb()),2&t){var n=P.qc(59),i=P.qc(78);P.Bb(2),P.Ec(P.gc(3,30,"DataSourceCalendarTitle")),P.Bb(2),P.kc("formGroup",e.dataSourceForm),P.Bb(3),P.Ec(P.gc(8,32,"Name")),P.Bb(3),P.lc("placeholder",P.gc(11,34,"DataSourceEdit.AddNamePlaceholder")),P.Bb(5),P.Fc("",P.gc(16,36,"DataSourceEdit.AddNameHint")," "),P.Bb(4),P.Ec(P.gc(20,38,"CollectionSites")),P.Bb(3),P.lc("placeholder",P.gc(23,40,"DataSourceEdit.CollectionSitesPlaceholder")),P.Bb(4),P.kc("ngForOf",e.selectedEntities),P.Bb(1),P.kc("ngForOf",e.entities),P.Bb(4),P.Fc("",P.gc(32,42,"DataSourceEdit.CollectionSitesHint")," "),P.Bb(4),P.Ec(P.gc(36,44,"Periodicity")),P.Bb(3),P.lc("placeholder",P.gc(39,46,"Periodicity")),P.Bb(2),P.kc("ngForOf",e.periodicities),P.Bb(4),P.Fc("",P.gc(45,48,"DataSourceEdit.PeriodicityHint")," "),P.Bb(4),P.Ec(P.gc(49,50,"StartDate")),P.Bb(4),P.Ec(e.changedStartDate?P.gc(53,52,"DataSourceEdit.CustomDatePlaceholder"):P.gc(54,54,"DataSourceEdit.StartDatePlaceholder")),P.Bb(3),P.lc("placeholder",P.gc(56,56,"DataSourceEdit.StartDatePlaceholder")),P.kc("matDatepicker",n),P.Bb(2),P.kc("for",n),P.Bb(6),P.Fc("",P.gc(64,58,"DataSourceEdit.StartDateHint")," "),P.Bb(4),P.Ec(P.gc(68,60,"EndDate")),P.Bb(4),P.Ec(e.changedEndDate?P.gc(72,62,"DataSourceEdit.CustomDatePlaceholder"):P.gc(73,64,"DataSourceEdit.EndDatePlaceholder")),P.Bb(3),P.lc("placeholder",P.gc(75,66,"DataSourceEdit.EndDatePlaceholder")),P.kc("matDatepicker",i),P.Bb(2),P.kc("for",i),P.Bb(6),P.Fc("",P.gc(83,68,"DataSourceEdit.EndDateHint")," "),P.Bb(4),P.Ec(P.gc(87,70,"DataSourceStructureTitle")),P.Bb(2),P.kc("formGroup",e.dataSourceForm),P.Bb(2),P.kc("ngForOf",e.elements.controls),P.Bb(4),P.Ec(P.gc(95,72,"AddVariable"))}},directives:[D.s,D.k,_.b,y.b,D.c,D.r,D.i,_.e,S.a,T.a,T.c,B.b,g.k,_.f,x.b,x.d,_.h,x.a,C.a,D.e,v.a,B.a,B.c,w.m,C.c,D.l,C.e,C.f,C.d,be],pipes:[k.c],styles:[".mat-expansion-panel-header-description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.mat-expansion-panel[_ngcontent-%COMP%]{margin:16px 0}"]}),ge);function Se(t,e){if(1&t){var n=P.Ub();P.Tb(0,"app-data-source",6),P.ac("edit",(function(t){return P.sc(n),P.ec(2).onEdit(t)}))("delete",(function(t){return P.sc(n),P.ec(2).onDelete(t)})),P.Sb()}if(2&t){var i=e.$implicit,a=P.ec(2);P.kc("project",a.project)("form",i)}}function ke(t,e){if(1&t){var n=P.Ub();P.Tb(0,"div",2),P.Tb(1,"div",3),P.Bc(2,Se,1,2,"app-data-source",4),P.Sb(),P.Tb(3,"button",5),P.ac("click",(function(){return P.sc(n),P.ec().onCreate()})),P.Tb(4,"mat-icon"),P.Dc(5,"add"),P.Sb(),P.Dc(6),P.fc(7,"translate"),P.Sb(),P.Sb()}if(2&t){var i=P.ec();P.Bb(2),P.kc("ngForOf",i.forms),P.Bb(4),P.Ec(P.gc(7,2,"CreateNewDataSource"))}}function De(t,e){if(1&t){var n=P.Ub();P.Tb(0,"div",2),P.Tb(1,"app-data-source-edit",7),P.ac("edit",(function(t){return P.sc(n),P.ec().onEdit(t)})),P.Sb(),P.Sb()}if(2&t){var i=P.ec();P.Bb(1),P.kc("form",i.currentForm)("entities",i.entities)("project",i.project)}}var ye,Te,Be,_e=[{path:"",component:(ye=function(){function t(e){c(this,t),this.projectService=e,this.forms=[],this.edition=!1}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.projectService.openedProject.subscribe((function(e){t.project=e,t.forms=e.forms,t.entities=e.entities,t.currentForm&&(t.currentForm=t.forms.find((function(e){return e.id===t.currentForm.id})))}))}},{key:"onCreate",value:function(){this.currentForm=new ot.a,this.currentForm.start=this.project.start,this.currentForm.end=this.project.end,this.project.forms.push(this.currentForm),this.projectService.project.next(this.project),this.edition=!0}},{key:"onEdit",value:function(t){this.edition=!0,this.currentForm=t,this.projectService.project.next(this.project)}},{key:"onDelete",value:function(t){this.project.forms=this.project.forms.filter((function(e){return e.id!==t.id})),this.projectService.project.next(this.project)}}]),t}(),ye.\u0275fac=function(t){return new(t||ye)(P.Nb(ct.a))},ye.\u0275cmp=P.Hb({type:ye,selectors:[["app-data-sources"]],decls:12,vars:11,consts:[[1,"info-section","blue"],["class","mdm-section",4,"ngIf"],[1,"mdm-section"],[1,"mdm-cards"],["class","mdm-card",3,"project","form","edit","delete",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mdm-button",3,"click"],[1,"mdm-card",3,"project","form","edit","delete"],[3,"form","entities","project","edit"]],template:function(t,e){1&t&&(P.Tb(0,"div",0),P.Tb(1,"p"),P.Dc(2),P.fc(3,"translate"),P.Sb(),P.Tb(4,"p"),P.Dc(5),P.fc(6,"translate"),P.Sb(),P.Tb(7,"p"),P.Dc(8),P.fc(9,"translate"),P.Sb(),P.Sb(),P.Bc(10,ke,8,4,"div",1),P.Bc(11,De,2,3,"div",1)),2&t&&(P.Bb(2),P.Ec(P.gc(3,5,"ProjectDataSourceInfo.0")),P.Bb(3),P.Ec(P.gc(6,7,"ProjectDataSourceInfo.1")),P.Bb(3),P.Ec(P.gc(9,9,"ProjectDataSourceInfo.2")),P.Bb(2),P.kc("ngIf",!e.edition),P.Bb(1),P.kc("ngIf",e.edition))},directives:[g.l,g.k,v.a,S.a,dt,ve],pipes:[k.c],styles:[".key[_ngcontent-%COMP%]{font-weight:700}.value[_ngcontent-%COMP%]{float:right}"]}),ye)}],we=((Be=function t(){c(this,t)}).\u0275mod=P.Lb({type:Be}),Be.\u0275inj=P.Kb({factory:function(t){return new(t||Be)},imports:[[it.f.forChild(_e)],it.f]}),Be),xe=((Te=function t(){c(this,t)}).\u0275mod=P.Lb({type:Te}),Te.\u0275inj=P.Kb({factory:function(t){return new(t||Te)},imports:[[g.c,k.b,we,rt,et,v.b,S.b]]}),Te)},Wp6s:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return b}));var i=n("R1ws"),a=n("FKr1"),r=n("fXoL"),o=["*",[["mat-card-footer"]]],s=["*","mat-card-footer"],l=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],u=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],d=function(){var t=function t(){c(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t}(),b=function(){var t=function t(){c(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t}(),m=function(){var t=function t(){c(this,t),this.align="start"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t}(),f=function(){var t=function t(){c(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t}(),p=function(){var t=function t(){c(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t}(),h=function(){var t=function t(e){c(this,t),this._animationMode=e};return t.\u0275fac=function(e){return new(e||t)(r.Nb(i.a,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:s,decls:2,vars:0,template:function(t,e){1&t&&(r.jc(o),r.ic(0),r.ic(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t}(),g=function(){var t=function t(){c(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:u,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(r.jc(l),r.ic(0),r.Tb(1,"div",0),r.ic(2,1),r.Sb(),r.ic(3,2))},encapsulation:2,changeDetection:0}),t}(),v=function(){var t=function t(){c(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[a.h],a.h]}),t}()}}])}();