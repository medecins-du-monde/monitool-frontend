!function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Wp6s:function(t,e,i){"use strict";i.d(e,"a",(function(){return h})),i.d(e,"b",(function(){return b})),i.d(e,"c",(function(){return p})),i.d(e,"d",(function(){return m})),i.d(e,"e",(function(){return g})),i.d(e,"f",(function(){return f})),i.d(e,"g",(function(){return v})),i.d(e,"h",(function(){return u}));var n=i("R1ws"),r=i("FKr1"),c=i("fXoL"),o=["*",[["mat-card-footer"]]],s=["*","mat-card-footer"],d=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],l=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],m=function(){var t=function t(){a(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Ib({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t}(),u=function(){var t=function t(){a(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Ib({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t}(),b=function(){var t=function t(){a(this,t),this.align="start"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Ib({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&c.Fb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t}(),f=function(){var t=function t(){a(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Ib({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t}(),p=function(){var t=function t(){a(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Ib({type:t,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),t}(),h=function(){var t=function t(e){a(this,t),this._animationMode=e};return t.\u0275fac=function(e){return new(e||t)(c.Nb(n.a,8))},t.\u0275cmp=c.Hb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&c.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:s,decls:2,vars:0,template:function(t,e){1&t&&(c.jc(o),c.ic(0),c.ic(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t}(),g=function(){var t=function t(){a(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Hb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:l,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(c.jc(d),c.ic(0),c.Tb(1,"div",0),c.ic(2,1),c.Sb(),c.ic(3,2))},encapsulation:2,changeDetection:0}),t}(),v=function(){var t=function t(){a(this,t)};return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[r.h],r.h]}),t}()},ukhu:function(t,i,n){"use strict";n.r(i),n.d(i,"UsersModule",(function(){return W}));var r,c,o=n("ofXK"),s=n("bTqV"),d=n("NFeN"),l=n("sYmb"),m=n("Wp6s"),u=n("A5z7"),b=n("tyNb"),f=n("STbY"),p=n("0IaG"),h=n("3Pt+"),g=n("d3UM"),v=n("kmnG"),S=n("qFsG"),T=n("fXoL"),B=((c=function t(){a(this,t)}).\u0275mod=T.Lb({type:c}),c.\u0275inj=T.Kb({factory:function(t){return new(t||c)},imports:[[o.c,l.b,h.m,h.w,S.c,v.d,g.b,u.d,d.b,s.b,p.f]]}),c),y=((r=function t(){a(this,t)}).\u0275mod=T.Lb({type:r}),r.\u0275inj=T.Kb({factory:function(t){return new(t||r)},imports:[[o.c,l.b,m.g,u.d,s.b,d.b,f.b,p.f,b.f,B]]}),r),D=[{name:"Owner",value:"owner"},{name:"DataEntryUser",value:"input"},{name:"ReadOnlyUser",value:"read"}],x=[{name:"AccountMDM",value:"internal"},{name:"AccountPartner",value:"partner"}],k=n("Tj/N"),w=n("qfBg"),E=n("c3AT"),F=n("FKr1");function j(t,e){if(1&t&&(T.Tb(0,"mat-option",15),T.Dc(1),T.fc(2,"translate"),T.Sb()),2&t){var a=e.$implicit;T.kc("value",a.value),T.Bb(1),T.Ec(T.gc(2,2,a.name))}}function C(t,e){if(1&t&&(T.Tb(0,"mat-option",15),T.Dc(1),T.Sb()),2&t){var a=e.$implicit;T.kc("value",a.id),T.Bb(1),T.Ec(a.name)}}function N(t,e){if(1&t&&(T.Tb(0,"div"),T.Tb(1,"div",6),T.Tb(2,"div",7),T.Dc(3),T.fc(4,"translate"),T.Sb(),T.Tb(5,"mat-form-field",8),T.Tb(6,"mat-select",16),T.fc(7,"translate"),T.Bc(8,C,2,2,"mat-option",10),T.Sb(),T.Tb(9,"mat-hint"),T.Tb(10,"mat-icon"),T.Dc(11,"info"),T.Sb(),T.Dc(12),T.fc(13,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb()),2&t){var a=T.ec(2);T.Bb(3),T.Ec(T.gc(4,4,"User")),T.Bb(3),T.lc("placeholder",T.gc(7,6,"User")),T.Bb(2),T.kc("ngForOf",a.users),T.Bb(4),T.Ec(T.gc(13,8,"Tooltip.UserEdition.User"))}}function I(t,e){1&t&&(T.Tb(0,"div",6),T.Tb(1,"div",7),T.Dc(2),T.fc(3,"translate"),T.Sb(),T.Tb(4,"mat-form-field",8),T.Ob(5,"input",17),T.fc(6,"translate"),T.Tb(7,"mat-hint"),T.Tb(8,"mat-icon"),T.Dc(9,"info"),T.Sb(),T.Dc(10),T.fc(11,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Tb(12,"div",6),T.Tb(13,"div",7),T.Dc(14),T.fc(15,"translate"),T.Sb(),T.Tb(16,"mat-form-field",8),T.Ob(17,"input",18),T.fc(18,"translate"),T.Tb(19,"mat-hint"),T.Tb(20,"mat-icon"),T.Dc(21,"info"),T.Sb(),T.Dc(22),T.fc(23,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Tb(24,"div",6),T.Tb(25,"div",7),T.Dc(26),T.fc(27,"translate"),T.Sb(),T.Tb(28,"mat-form-field",8),T.Ob(29,"input",19),T.fc(30,"translate"),T.Tb(31,"mat-hint"),T.Tb(32,"mat-icon"),T.Dc(33,"info"),T.Sb(),T.Dc(34),T.fc(35,"translate"),T.Sb(),T.Sb(),T.Sb()),2&t&&(T.Bb(2),T.Ec(T.gc(3,9,"Login")),T.Bb(3),T.lc("placeholder",T.gc(6,11,"Login")),T.Bb(5),T.Ec(T.gc(11,13,"Tooltip.UserEdition.User")),T.Bb(4),T.Ec(T.gc(15,15,"FullName")),T.Bb(3),T.lc("placeholder",T.gc(18,17,"FullName")),T.Bb(5),T.Ec(T.gc(23,19,"Tooltip.UserEdition.User")),T.Bb(4),T.Ec(T.gc(27,21,"Password")),T.Bb(3),T.lc("placeholder",T.gc(30,23,"Password")),T.Bb(5),T.Ec(T.gc(35,25,"Tooltip.UserEdition.User")))}function U(t,e){if(1&t&&(T.Tb(0,"mat-option",15),T.Dc(1),T.fc(2,"translate"),T.Sb()),2&t){var a=e.$implicit;T.kc("value",a.value),T.Bb(1),T.Ec(T.gc(2,2,a.name))}}function O(t,e){if(1&t){var a=T.Ub();T.Tb(0,"mat-chip",23),T.ac("removed",(function(){T.sc(a);var t=e.$implicit;return T.ec(3).onSiteRemoved(t)})),T.Dc(1),T.Tb(2,"mat-icon",24),T.Dc(3,"cancel"),T.Sb(),T.Sb()}if(2&t){var i=e.$implicit;T.kc("removable",!0),T.Bb(1),T.Fc(" ",i.name," ")}}function A(t,e){if(1&t&&(T.Tb(0,"mat-option",15),T.Dc(1),T.Sb()),2&t){var a=e.$implicit;T.kc("value",a),T.Bb(1),T.Ec(a.name)}}function M(t,e){if(1&t){var a=T.Ub();T.Tb(0,"mat-chip",23),T.ac("removed",(function(){T.sc(a);var t=e.$implicit;return T.ec(3).onDataSourceRemoved(t)})),T.Dc(1),T.Tb(2,"mat-icon",24),T.Dc(3,"cancel"),T.Sb(),T.Sb()}if(2&t){var i=e.$implicit;T.kc("removable",!0),T.Bb(1),T.Fc(" ",i.name," ")}}function q(t,e){if(1&t&&(T.Tb(0,"mat-option",15),T.Dc(1),T.Sb()),2&t){var a=e.$implicit;T.kc("value",a),T.Bb(1),T.Ec(a.name)}}function R(t,e){if(1&t&&(T.Tb(0,"div"),T.Tb(1,"div",6),T.Tb(2,"div",7),T.Dc(3),T.fc(4,"translate"),T.Sb(),T.Tb(5,"mat-form-field",8),T.Tb(6,"mat-select",20),T.fc(7,"translate"),T.Tb(8,"mat-select-trigger"),T.Tb(9,"mat-chip-list"),T.Bc(10,O,4,2,"mat-chip",21),T.Sb(),T.Sb(),T.Bc(11,A,2,2,"mat-option",10),T.Sb(),T.Tb(12,"mat-hint"),T.Tb(13,"mat-icon"),T.Dc(14,"info"),T.Sb(),T.Dc(15),T.fc(16,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Tb(17,"div",6),T.Tb(18,"div",7),T.Dc(19),T.fc(20,"translate"),T.Sb(),T.Tb(21,"mat-form-field",8),T.Tb(22,"mat-select",22),T.fc(23,"translate"),T.Tb(24,"mat-select-trigger"),T.Tb(25,"mat-chip-list"),T.Bc(26,M,4,2,"mat-chip",21),T.Sb(),T.Sb(),T.Bc(27,q,2,2,"mat-option",10),T.Sb(),T.Tb(28,"mat-hint"),T.Tb(29,"mat-icon"),T.Dc(30,"info"),T.Sb(),T.Dc(31),T.fc(32,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb()),2&t){var a=T.ec(2);T.Bb(3),T.Ec(T.gc(4,10,"CollectionSites")),T.Bb(3),T.lc("placeholder",T.gc(7,12,"CollectionSites")),T.Bb(4),T.kc("ngForOf",a.selectedSites),T.Bb(1),T.kc("ngForOf",a.collectionSites),T.Bb(4),T.Fc("",T.gc(16,14,"Tooltip.BasicsEdition.Thematics")," "),T.Bb(4),T.Ec(T.gc(20,16,"DataSources")),T.Bb(3),T.lc("placeholder",T.gc(23,18,"DataSources")),T.Bb(4),T.kc("ngForOf",a.selectedDataSources),T.Bb(1),T.kc("ngForOf",a.dataSources),T.Bb(4),T.Fc("",T.gc(32,20,"Tooltip.BasicsEdition.Thematics")," ")}}function L(t,e){if(1&t&&(T.Tb(0,"mat-dialog-content",5),T.Tb(1,"div",6),T.Tb(2,"div",7),T.Dc(3),T.fc(4,"translate"),T.Sb(),T.Tb(5,"mat-form-field",8),T.Tb(6,"mat-select",9),T.fc(7,"translate"),T.Bc(8,j,3,4,"mat-option",10),T.Sb(),T.Tb(9,"mat-hint"),T.Tb(10,"mat-icon"),T.Dc(11,"info"),T.Sb(),T.Dc(12),T.fc(13,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Bc(14,N,14,10,"div",11),T.Bc(15,I,36,27,"ng-template",null,12,T.Cc),T.Tb(17,"div",6),T.Tb(18,"div",7),T.Dc(19),T.fc(20,"translate"),T.Sb(),T.Tb(21,"mat-form-field",8),T.Tb(22,"mat-select",13),T.fc(23,"translate"),T.Bc(24,U,3,4,"mat-option",10),T.Sb(),T.Tb(25,"mat-hint"),T.Tb(26,"mat-icon"),T.Dc(27,"info"),T.Sb(),T.Dc(28),T.fc(29,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Bc(30,R,33,22,"div",14),T.Sb()),2&t){var a=T.qc(16),i=T.ec();T.kc("formGroup",i.userForm),T.Bb(3),T.Ec(T.gc(4,12,"Type")),T.Bb(3),T.lc("placeholder",T.gc(7,14,"Type")),T.Bb(2),T.kc("ngForOf",i.types),T.Bb(4),T.Ec(T.gc(13,16,"Tooltip.UserEdition.Type")),T.Bb(2),T.kc("ngIf",i.userForm.value.type===i.types[0].value)("ngIfElse",a),T.Bb(5),T.Ec(T.gc(20,18,"Role")),T.Bb(3),T.lc("placeholder",T.gc(23,20,"Role")),T.Bb(2),T.kc("ngForOf",i.roles),T.Bb(4),T.Ec(T.gc(29,22,"Tooltip.UserEdition.Role")),T.Bb(2),T.kc("ngIf",i.userForm.value.role===i.roles[1].value)}}var $,P,K=(($=function(){function t(e,i,n,r,c){a(this,t),this.fb=e,this.dialogRef=i,this.data=n,this.userService=r,this.projectService=c}return e(t,[{key:"ngOnInit",value:function(){var t=this;this.types=x,this.roles=D,this.projectService.openedProject.subscribe((function(e){t.project=e,t.collectionSites=e.entities,t.dataSources=e.forms,t.resetChanges()})),this.userService.list().then((function(e){t.users=e}))}},{key:"onSubmit",value:function(){var t=new k.a(this.userForm.value);this.dialogRef.close({data:t})}},{key:"resetChanges",value:function(){this.userForm=this.fb.group({id:[this.data?this.data.id:null,h.x.required],role:[this.data?this.data.role:null,h.x.required],type:[this.data?this.data.type:this.types[0].value,h.x.required],entities:[this.data&&this.data.entities?this.data.entities:[],h.x.required],dataSources:[this.data&&this.data.dataSources?this.data.dataSources:[],h.x.required],name:[this.data?this.data.name:null,h.x.required],username:[this.data?this.data.username:null,h.x.required],password:[this.data?this.data.password:null,h.x.required]})}},{key:"onSiteRemoved",value:function(t){this.userForm.controls.entities.setValue(this.userForm.controls.entities.value.filter((function(e){return e.id!==t.id})))}},{key:"onDataSourceRemoved",value:function(t){this.userForm.controls.dataSources.setValue(this.userForm.controls.dataSources.value.filter((function(e){return e.id!==t.id})))}},{key:"selectedSites",get:function(){var t=this;return this.userForm?this.collectionSites.filter((function(e){return t.userForm.controls.entities.value.includes(e)})):[]}},{key:"selectedDataSources",get:function(){var t=this;return this.userForm?this.dataSources.filter((function(e){return t.userForm.controls.dataSources.value.includes(e)})):[]}}]),t}()).\u0275fac=function(t){return new(t||$)(T.Nb(h.f),T.Nb(p.g),T.Nb(p.a),T.Nb(w.a),T.Nb(E.a))},$.\u0275cmp=T.Hb({type:$,selectors:[["app-user-modal"]],decls:16,vars:10,consts:[["mat-icon-button","","mat-dialog-close","",1,"dialog-close"],["mat-dialog-title",""],["class","mdm-dialog",3,"formGroup",4,"ngIf"],["align","end"],["mat-stroked-button","",1,"mdm-button",3,"click"],[1,"mdm-dialog",3,"formGroup"],[1,"mdm-form-group"],[1,"mdm-form-label"],["appearance","outline",1,"mdm-form-field"],["formControlName","type",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseBlock",""],["formControlName","role",3,"placeholder"],[4,"ngIf"],[3,"value"],["formControlName","id",3,"placeholder"],["matInput","","formControlName","username",3,"placeholder"],["matInput","","formControlName","name",3,"placeholder"],["type","password","matInput","","formControlName","password",3,"placeholder"],["formControlName","entities","multiple","",3,"placeholder"],[3,"removable","removed",4,"ngFor","ngForOf"],["formControlName","dataSources","multiple","",3,"placeholder"],[3,"removable","removed"],["matChipRemove",""]],template:function(t,e){1&t&&(T.Tb(0,"button",0),T.Tb(1,"mat-icon"),T.Dc(2,"close"),T.Sb(),T.Sb(),T.Tb(3,"h2",1),T.Dc(4),T.fc(5,"translate"),T.Sb(),T.Bc(6,L,31,24,"mat-dialog-content",2),T.Tb(7,"mat-dialog-actions",3),T.Tb(8,"button",4),T.ac("click",(function(){return e.onSubmit()})),T.Dc(9),T.fc(10,"translate"),T.Sb(),T.Tb(11,"button",4),T.ac("click",(function(){return e.resetChanges()})),T.Tb(12,"mat-icon"),T.Dc(13,"undo"),T.Sb(),T.Dc(14),T.fc(15,"translate"),T.Sb(),T.Sb()),2&t&&(T.Bb(4),T.Ec(T.gc(5,4,"UserEdition")),T.Bb(2),T.kc("ngIf",e.userForm),T.Bb(3),T.Ec(T.gc(10,6,"UpdateUser")),T.Bb(5),T.Ec(T.gc(15,8,"ResetChanges")))},directives:[s.a,p.d,d.a,p.h,o.l,p.c,p.e,h.s,h.k,v.b,g.a,h.r,h.i,o.k,v.e,F.m,S.b,h.c,g.c,u.b,u.a,u.c],pipes:[l.c],styles:[""]}),$),z=n("quSY"),G=((P=function(){function t(e,i){a(this,t),this.dialog=e,this.userService=i,this.delete=new T.o,this.edit=new T.o}return e(t,[{key:"ngOnInit",value:function(){var t=this;this.userService.list().then((function(e){t.MDMusers=e}))}},{key:"onDelete",value:function(){this.delete.emit(this.user.id)}},{key:"openDialog",value:function(){var t=this;this.dialog.open(K,{data:this.user}).afterClosed().subscribe((function(e){e&&e.data&&t.edit.emit(e.data)}))}},{key:"login",get:function(){return"internal"!==this.user.type?this.user.username:this.user.id?this.user.id.split(":")[1]:""}},{key:"role",get:function(){var t=this;return D.find((function(e){return e.value===t.user.role})).name}},{key:"name",get:function(){var t=this;return"internal"===this.user.type&&this.MDMusers?this.MDMusers.find((function(e){return e.id===t.user.id})).name:"partner"===this.user.type?this.user.name:""}}]),t}()).\u0275fac=function(t){return new(t||P)(T.Nb(p.b),T.Nb(w.a))},P.\u0275cmp=T.Hb({type:P,selectors:[["app-user"]],inputs:{user:"user"},outputs:{delete:"delete",edit:"edit"},decls:35,vars:18,consts:[[1,"card-header"],[1,"card-info"],[1,"card-info-title"],[1,"card-info-value"],["align","end",1,"mdm-button-group"],["mat-stroked-button","",1,"mdm-button",3,"click"],["mat-stroked-button","","mat-icon-button","",1,"mdm-button",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(T.Tb(0,"mat-card"),T.Tb(1,"mat-card-header",0),T.Tb(2,"mat-card-title"),T.Dc(3),T.Sb(),T.Sb(),T.Tb(4,"mat-card-content"),T.Tb(5,"div",1),T.Tb(6,"div",2),T.Dc(7),T.fc(8,"translate"),T.Sb(),T.Tb(9,"div",3),T.Dc(10),T.Sb(),T.Sb(),T.Tb(11,"div",1),T.Tb(12,"div",2),T.Dc(13),T.fc(14,"translate"),T.Sb(),T.Tb(15,"div",3),T.Tb(16,"mat-chip-list"),T.Tb(17,"mat-chip"),T.Dc(18),T.fc(19,"translate"),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Tb(20,"mat-card-actions",4),T.Tb(21,"button",5),T.ac("click",(function(){return e.openDialog()})),T.Dc(22),T.fc(23,"translate"),T.Sb(),T.Tb(24,"button",6),T.Tb(25,"mat-icon"),T.Dc(26,"expand_more"),T.Sb(),T.Sb(),T.Sb(),T.Sb(),T.Tb(27,"mat-menu",null,7),T.Tb(29,"button",8),T.ac("click",(function(){return e.onDelete()})),T.Tb(30,"mat-icon"),T.Dc(31,"delete"),T.Sb(),T.Tb(32,"span"),T.Dc(33),T.fc(34,"translate"),T.Sb(),T.Sb(),T.Sb()),2&t){var a=T.qc(28);T.Bb(3),T.Ec(e.user.name),T.Bb(4),T.Ec(T.gc(8,8,"Login")),T.Bb(3),T.Ec(e.login),T.Bb(3),T.Ec(T.gc(14,10,"Role")),T.Bb(5),T.Ec(T.gc(19,12,e.role)),T.Bb(4),T.Ec(T.gc(23,14,"Edit")),T.Bb(2),T.kc("matMenuTriggerFor",a),T.Bb(9),T.Ec(T.gc(34,16,"Delete"))}},directives:[m.a,m.e,m.h,m.d,u.b,u.a,m.b,s.a,f.c,d.a,f.d,f.a],pipes:[l.c],styles:[""]}),P);function H(t,e){if(1&t){var a=T.Ub();T.Tb(0,"app-user",4),T.ac("delete",(function(t){return T.sc(a),T.ec().onDelete(t)}))("edit",(function(t){return T.sc(a),T.ec().onEdit(t)})),T.Sb()}2&t&&T.kc("user",e.$implicit)}var V,_,X,Y=[{path:"",component:(V=function(){function t(e,i){a(this,t),this.dialog=e,this.projectService=i,this.subscription=new z.a}return e(t,[{key:"ngOnInit",value:function(){var t=this;this.users=[],this.subscription.add(this.projectService.openedProject.subscribe((function(e){t.project=e,t.users=t.project.users})))}},{key:"onDelete",value:function(t){var e=this.project.users.findIndex((function(e){return e.id===t}));this.project.users.splice(e,1),this.projectService.project.next(this.project)}},{key:"onEdit",value:function(t){var e;e=this.project.users.findIndex("internal"===t.type?function(e){return e.id===t.id}:function(e){return e.username===t.username}),this.project.users[e]=t,this.projectService.project.next(this.project)}},{key:"openDialog",value:function(){var t=this;this.dialog.open(K).afterClosed().subscribe((function(e){e&&e.data&&(t.project.users.push(e.data),t.projectService.project.next(t.project))}))}}]),t}(),V.\u0275fac=function(t){return new(t||V)(T.Nb(p.b),T.Nb(E.a))},V.\u0275cmp=T.Hb({type:V,selectors:[["app-users"]],decls:14,vars:10,consts:[[1,"info-section","blue"],[1,"mdm-cards"],["class","mdm-card",3,"user","delete","edit",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"mdm-button",3,"click"],[1,"mdm-card",3,"user","delete","edit"]],template:function(t,e){1&t&&(T.Tb(0,"div",0),T.Tb(1,"p"),T.Dc(2),T.fc(3,"translate"),T.Sb(),T.Tb(4,"p"),T.Dc(5),T.fc(6,"translate"),T.Sb(),T.Sb(),T.Tb(7,"div",1),T.Bc(8,H,1,1,"app-user",2),T.Sb(),T.Tb(9,"button",3),T.ac("click",(function(){return e.openDialog()})),T.Tb(10,"mat-icon"),T.Dc(11,"add"),T.Sb(),T.Dc(12),T.fc(13,"translate"),T.Sb()),2&t&&(T.Bb(2),T.Ec(T.gc(3,4,"ProjectsUserInfo.0")),T.Bb(3),T.Ec(T.gc(6,6,"ProjectsUserInfo.1")),T.Bb(3),T.kc("ngForOf",e.users),T.Bb(4),T.Fc(" ",T.gc(13,8,"AddNewUser"),"\n"))},directives:[o.k,s.a,d.a,G],pipes:[l.c],styles:[""]}),V)}],J=((X=function t(){a(this,t)}).\u0275mod=T.Lb({type:X}),X.\u0275inj=T.Kb({factory:function(t){return new(t||X)},imports:[[b.f.forChild(Y)],b.f]}),X),W=((_=function t(){a(this,t)}).\u0275mod=T.Lb({type:_}),_.\u0275inj=T.Kb({factory:function(t){return new(t||_)},imports:[[o.c,l.b,J,y,s.b,d.b]]}),_)}}])}();