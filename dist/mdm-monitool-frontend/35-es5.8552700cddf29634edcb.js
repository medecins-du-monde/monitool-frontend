!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{fgAf:function(r,e,c){"use strict";c.r(e),c.d(e,"ExtraIndicatorsModule",(function(){return B}));var i=c("Wp6s"),o=c("0IaG"),a=c("ofXK"),s=c("3Pt+"),d=c("bTqV"),f=c("NFeN"),u=c("sYmb"),b=c("YjUb"),l=c("tyNb"),p=c("QlGT"),m=c("IPwQ"),v=c("hPXr"),I=c("fXoL"),h=c("c3AT"),g=c("XEzf");function j(t,n){if(1&t){var r=I.Ub();I.Rb(0,8),I.Tb(1,"app-extra-indicator",9),I.ac("edit",(function(){I.sc(r);var t=n.$implicit,e=n.index;return I.ec(2).onEditIndicator(t,e)}))("delete",(function(){I.sc(r);var t=n.index;return I.ec(2).onDeleteIndicator(t)})),I.Sb(),I.Qb()}if(2&t){var e=n.$implicit;I.Bb(1),I.kc("extraIndicator",e.value)}}function x(t,n){if(1&t&&(I.Tb(0,"div",6),I.Bc(1,j,2,1,"ng-container",7),I.Sb()),2&t){var r=I.ec();I.Bb(1),I.kc("ngForOf",r.indicators.controls)}}function w(t,n){1&t&&(I.Tb(0,"p"),I.Dc(1),I.fc(2,"translate"),I.Sb()),2&t&&(I.Bb(1),I.Fc("",I.gc(2,1,"NoExtraIndicator")," "))}var k,y,S,T=[{path:"",component:(k=function(){function r(n,e,c){t(this,r),this.projectService=n,this.fb=e,this.dialog=c,this.extraIndicators=[]}var e,c,i;return e=r,(c=[{key:"ngOnInit",value:function(){var t=this;this.projectService.openedProject.subscribe((function(n){t.project=n,t.setForm()}))}},{key:"setForm",value:function(){this.extraIndicatorsForm=this.fb.group({indicators:this.fb.array(this.project.extraIndicators.map((function(t){return v.a.newIndicator(t)})))})}},{key:"onAddNewIndicator",value:function(){this.openDialog(v.a.newIndicator(),!0)}},{key:"onEditIndicator",value:function(t,n){this.openDialog(v.a.newIndicator(t.value),!1,n)}},{key:"onDeleteIndicator",value:function(t){this.indicators.removeAt(t),this.project.extraIndicators.splice(t,1),this.projectService.project.next(this.project)}},{key:"openDialog",value:function(t,n,r){var e=this;this.dialog.open(p.a,{data:{indicator:t,forms:this.project.forms}}).afterClosed().subscribe((function(t){t&&(n?(e.project.extraIndicators.push(new m.d(t.indicator.value)),e.indicators.push(t.indicator),e.projectService.project.next(e.project)):null!==r&&(e.project.extraIndicators[r]=new m.d(t.indicator.value),e.indicators.setControl(r,t.indicator),e.projectService.project.next(e.project)))}))}},{key:"indicators",get:function(){return this.extraIndicatorsForm.controls.indicators}}])&&n(e.prototype,c),i&&n(e,i),r}(),k.\u0275fac=function(t){return new(t||k)(I.Nb(h.a),I.Nb(s.f),I.Nb(o.b))},k.\u0275cmp=I.Hb({type:k,selectors:[["app-extra-indicators"]],decls:17,vars:12,consts:[[1,"info-section","blue"],[1,"mdm-section",3,"formGroup"],["formArrayName","indicators",1,"indicators-list"],["class","mdm-cards",4,"ngIf","ngIfElse"],["elseBlock",""],["mat-stroked-button","",1,"mdm-button",3,"click"],[1,"mdm-cards"],["class","mdm-card",4,"ngFor","ngForOf"],[1,"mdm-card"],[1,"mdm-card",3,"extraIndicator","edit","delete"]],template:function(t,n){if(1&t&&(I.Tb(0,"div",0),I.Tb(1,"p"),I.Dc(2),I.fc(3,"translate"),I.Sb(),I.Tb(4,"p"),I.Dc(5),I.fc(6,"translate"),I.Sb(),I.Sb(),I.Tb(7,"div",1),I.Tb(8,"div",2),I.Bc(9,x,2,1,"div",3),I.Bc(10,w,3,3,"ng-template",null,4,I.Cc),I.Tb(12,"button",5),I.ac("click",(function(){return n.onAddNewIndicator()})),I.Tb(13,"mat-icon"),I.Dc(14,"add"),I.Sb(),I.Dc(15),I.fc(16,"translate"),I.Sb(),I.Sb(),I.Sb()),2&t){var r=I.qc(11);I.Bb(2),I.Ec(I.gc(3,6,"ExtraIndicatorsInfo.0")),I.Bb(3),I.Ec(I.gc(6,8,"ExtraIndicatorsInfo.1")),I.Bb(2),I.kc("formGroup",n.extraIndicatorsForm),I.Bb(2),I.kc("ngIf",0!==n.project.extraIndicators.length)("ngIfElse",r),I.Bb(6),I.Ec(I.gc(16,10,"AddIndicator"))}},directives:[s.s,s.k,s.e,a.l,d.a,f.a,a.k,g.a],pipes:[u.c],styles:[""]}),k)}],E=((S=function n(){t(this,n)}).\u0275mod=I.Lb({type:S}),S.\u0275inj=I.Kb({factory:function(t){return new(t||S)},imports:[[l.f.forChild(T)],l.f]}),S),B=((y=function n(){t(this,n)}).\u0275mod=I.Lb({type:y}),y.\u0275inj=I.Kb({factory:function(t){return new(t||y)},imports:[[a.c,u.b,E,b.a,d.b,f.b,o.f,i.g,s.w]]}),y)}}])}();