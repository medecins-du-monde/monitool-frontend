<div [formGroup]="elementForm">
    <div class="mdm-form-group">
        <div class="mdm-form-label">{{ 'AddVariableName' | translate }}</div>
        <mat-form-field appearance="outline" class="mdm-form-field">
            <input matInput formControlName="name" placeholder="{{ 'AddVariableNamePlaceholder' | translate }}">
            <mat-hint>
                <mat-icon>info</mat-icon>{{ 'AddVariableNameHint' | translate: { name: dataSourceName ? dataSourceName : '...' } }} 
            </mat-hint>
        </mat-form-field>
    </div>
    <div class="mdm-form-group">
        <div class="mdm-form-label">{{ 'GeoAggregation' | translate }}</div>
        <mat-form-field appearance="outline" class="mdm-form-field">
            <mat-select formControlName="geoAgg" placeholder="{{ 'MissingComputation' | translate }}">
                <mat-option *ngFor="let aggregation of aggregations" [value]="aggregation.value">{{ aggregation.display | translate }}
                </mat-option>
            </mat-select>
            <mat-hint>
                <mat-icon>info</mat-icon>{{ 'GeoAggregationHint' | translate: { name: elementForm.value.name ? elementForm.value.name : '...' } }}
            </mat-hint>
        </mat-form-field>
    </div>
    <div class="mdm-form-group">
        <div class="mdm-form-label">{{ 'TimeAggregation' | translate }}</div>
        <mat-form-field appearance="outline" class="mdm-form-field">
            <mat-select formControlName="timeAgg" placeholder="{{ 'MissingComputation' | translate }}">
                <mat-option *ngFor="let aggregation of aggregations" [value]="aggregation.value">{{ aggregation.display | translate }}
                </mat-option>
            </mat-select>
            <mat-hint>
                <mat-icon>info</mat-icon>{{ 'TimeAggregationHint' | translate: { name: elementForm.value.name ? elementForm.value.name : '...' } }}
            </mat-hint>
        </mat-form-field>
    </div>
    <div class="mdm-form-group">
        <div class="mdm-form-label">{{ 'Partitions' | translate }}</div>

        <div class="partitions-list" formArrayName="partitions">

            <div class="partitions-buttons">
                <ng-container *ngFor="let partition of partitions.controls; let i=index">
                    <button mat-stroked-button class="mdm-button" (click)="openDialog(partition)"><mat-icon>create</mat-icon>{{partition.value.name}}</button>
                </ng-container>
            </div>
            <button mat-stroked-button class="mdm-button" (click)="onAddNewPartition()"><mat-icon>add</mat-icon>{{ 'AddPartition' | translate }}</button>
            <div class="hint">
                <mat-hint>
                    <mat-icon>info</mat-icon>{{ 'PartitionsHint' | translate: { name: elementForm.value.name ? elementForm.value.name : '...' } }}
                </mat-hint>
            </div>
        </div>

    </div>
    <div class="mdm-form-group">
        <div class="mdm-form-label">{{ 'Desagregation.DisplayTitle' | translate }}</div>
        <mat-radio-group  [formControl]="floatLabelControl" >
            <table class="desagregation">
                <tr>
                    <td>
                        <table class="display">
                            <tr><td class ="title">title</td></tr>
                            <tr><td class ="title">title</td></tr>
                            <tr><td class ="title">title</td></tr>
                            <tr><td class ="data">data</td></tr>
                            <tr><mat-radio-button value="structure1"></mat-radio-button></tr>
                        </table>
                    </td>
                    <td>
                        <table class="display">
                            <tr><td class ="title"></td>
                                <td class ="title">title</td></tr>
                            <tr><td class ="title">title</td>
                                <td class ="title">title</td></tr>
                            <tr><td class ="title">title</td>
                                <td class ="data">data</td></tr>
                            <tr colspan="2" ><mat-radio-button value="structure2"></mat-radio-button></tr>
                        </table>
                    </td>
                    <td>
                        <table class="display">
                            <tr>
                                <td class ="title"></td>
                                <td class ="title"></td>
                                <td class ="title">title</td>
                            </tr>
                            <tr>
                                <td class ="title" >title</td>
                                <td class ="title">title</td>
                                <td class ="data">data</td>
                            </tr>
                            <tr colspan="3"><mat-radio-button value="structure3"></mat-radio-button></tr>
                        </table>

                    </td>
                    <td>
                        <table class="display">
                            <tr>
                                <td class ="title">title</td>
                                <td class ="title">title</td>
                                <td class ="title">title</td>
                                <td class ="data">data</td>
                            </tr>
                            <tr colspan="4"><mat-radio-button value="structure4"></mat-radio-button></tr>
                        </table>
                    </td>
                </tr>
            </table>
        </mat-radio-group>

        <mat-hint  class="hint">
            <mat-icon>info</mat-icon>{{ 'Desagregation.DisplayHint' | translate }}
        </mat-hint>
    </div>

    <div class="mdm-form-group">
        <div class="mdm-form-label">{{ 'Desagregation.OrderTitle' | translate }}</div>
        <app-table-structure [tableStructure]="floatLabelControl.value.toString()"></app-table-structure>

        <mat-hint class="hint">
            <mat-icon>info</mat-icon>{{ 'Desagregation.OrderHint' | translate }}
        </mat-hint>
    </div>

    
</div>