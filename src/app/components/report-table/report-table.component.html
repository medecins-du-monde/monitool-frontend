
<table mat-table [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8">
  
  <ng-container matColumnDef="icon">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let element"> 
      <mat-icon *ngIf="element.icon" >insights</mat-icon>
    </td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> {{ 'Name' | translate }} </th>
    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
  </ng-container>

  <ng-container matColumnDef="baseline">
    <th mat-header-cell *matHeaderCellDef > {{ 'Baseline' | translate }} </th>
    <td mat-cell *matCellDef="let element" class="gradient-background"> {{ element.baseline }} </td>
  </ng-container>

  <ng-container matColumnDef="target">
    <th mat-header-cell *matHeaderCellDef> {{ 'Target' | translate }} </th>
    <td mat-cell *matCellDef="let element" class="gradient-background"> {{element.target}} </td>
  </ng-container>
  
  <ng-container matColumnDef="{{column}}" *ngFor="let column of dimensions">
    <th mat-header-cell *matHeaderCellDef> {{ column | translate }} </th>
    <td mat-cell *matCellDef="let element"> {{ element.values ? element.values[column] : ''}} </td>
  </ng-container>

  <ng-container matColumnDef="title">
    <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length">
      <mat-icon *ngIf="!element.opened; else elseOpen">add_circle</mat-icon>
      <ng-template #elseOpen>
        <mat-icon>remove_circle</mat-icon>
      </ng-template>

      {{ element['title'] }} 
    </td>
  </ng-container>

  <ng-container matColumnDef="groupName">
    <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplay.length - 1"> {{element.groupName}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
  <tr mat-row *matRowDef="let element; columns: ['title']; when: isSectionTitle" 
      class="example-element-row"
      [class.example-expanded-row]="expandedElement === element"
      (click)="toggleData(element.sectionId)"
  ></tr>
  <tr mat-row *matRowDef="let element; columns: columnsToDisplay; when: isInfoRow"></tr>
  <tr mat-row *matRowDef="let element; columns: columnsToDisplayGroup; when: isGroupTitle"></tr>
</table>