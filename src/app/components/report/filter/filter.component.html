<table>
    <tr>
        <td>
         <h2><mat-icon class="hover" (click)="toggleCollapsed()">{{collapsed ? 'add_circle' : 'remove_circle'}}</mat-icon>Filters</h2>
        </td>
    </tr>
    <tr>
        <td *ngIf="!collapsed" [formGroup]="filterForm">
            <div class="mdm-form-group">
                <div class="mdm-form-label">{{ 'Start' | translate }}</div>
                <mat-form-field appearance="outline" class="mdm-form-field">
                    <mat-label>{{ 'ChooseStartDate' | translate }}</mat-label>
                    <input matInput [matDatepicker]="start" formControlName="_start">
                    <mat-datepicker-toggle matSuffix [for]="start"></mat-datepicker-toggle>
                    <mat-datepicker #start></mat-datepicker>
                </mat-form-field>
            </div>

            <div class="mdm-form-group">
                <div class="mdm-form-label">{{ 'End' | translate }}</div>
                <mat-form-field appearance="outline" class="mdm-form-field">
                    <mat-label>{{ 'ChooseEndDate' | translate }}</mat-label>
                    <input matInput [matDatepicker]="end" formControlName="_end">
                    <mat-datepicker-toggle matSuffix [for]="end"></mat-datepicker-toggle>
                    <mat-datepicker #end></mat-datepicker>
                </mat-form-field>
            </div>
                  
            <div *ngIf="filterForm.get('entity')" class="mdm-form-group">
                <div class="mdm-form-label">{{ 'CollectionSites' | translate }}</div>
                <mat-form-field appearance="outline" class="mdm-form-field">
                    <mat-select formControlName="entity" placeholder="{{ 'DataSourceEdit.CollectionSitesPlaceholder' | translate }}" multiple >
                        <mat-select-trigger>
                            <mat-chip-list>
                                <mat-chip *ngFor="let site of selectedSites" [removable]="true"
                                (removed)="onEntityRemoved(site)">
                                    {{ site.name }}
                                    <mat-icon matChipRemove>cancel</mat-icon>
                                </mat-chip>
                            </mat-chip-list>
                        </mat-select-trigger>
    
                        <mat-option *ngFor="let site of sites" [value]="site.id">{{ site.name }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <div *ngIf="filterForm.get('finished')" class="mdm-form-group">
                <div class="mdm-form-label">{{ 'ShowFinishedProjects' | translate }}</div>
                <mat-checkbox formControlName="finished"></mat-checkbox>
            </div>

        </td>
    </tr>
</table>