<div *ngIf="options.length && hasEntities">
    <div *ngIf="open; else elseBlock">
        <button [matMenuTriggerFor]="menu" class="mdm-button small-button mat-icon-button">
            <mat-icon>add</mat-icon>
        </button>
    
        <mat-menu #menu="matMenu">
            <button *ngFor="let option of options" mat-menu-item (click)="option.partition ? option.action(option.partition) : option.action()">
                <span>{{ option.value }}</span>
            </button>
        </mat-menu>
    </div>
    
    <ng-template #elseBlock>
        <button class="mdm-button small-button mat-icon-button" (click)="closeIndicator()">
            <mat-icon>remove</mat-icon>
        </button>
    </ng-template>
</div>
